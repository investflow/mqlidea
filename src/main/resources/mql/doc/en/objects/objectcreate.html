<h1>ObjectCreate</h1> 
<p><span>The function creates an object with the specified name, type, and the initial coordinates in the specified chart subwindow of the specified chart. There are two variants of the function:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>bool&nbsp;&nbsp;</span><span>ObjectCreate</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>long</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>chart_id</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;chart&nbsp;ID</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>string</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>object_name</span><span>,&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;object&nbsp;name</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>ENUM_OBJECT&nbsp;&nbsp;&nbsp;</span><span>object_type</span><span>,&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;object&nbsp;type</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>sub_window</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;window&nbsp;index</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>datetime</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>time1</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;time&nbsp;of&nbsp;the&nbsp;first&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>price1</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;price&nbsp;of&nbsp;the&nbsp;first&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;...</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>datetime</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>timeN=0</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;time&nbsp;of&nbsp;the&nbsp;N-th&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>priceN=0&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;price&nbsp;of&nbsp;the&nbsp;N-th&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>The function creates an object with the specified name, type, and the initial coordinates in the specified chart subwindow:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>bool&nbsp;&nbsp;</span><span>ObjectCreate</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>string</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>object_name</span><span>,&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;object&nbsp;name</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>ENUM_OBJECT</span><span>&nbsp;&nbsp;&nbsp;</span><span>object_type</span><span>,&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;object&nbsp;type</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>sub_window</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;window&nbsp;index</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>datetime</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>time1</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;time&nbsp;of&nbsp;the&nbsp;first&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>price1</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;price&nbsp;of&nbsp;the&nbsp;first&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>datetime</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>time2=0</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;time&nbsp;of&nbsp;the&nbsp;second&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>price2=0</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;price&nbsp;of&nbsp;the&nbsp;second&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>datetime</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>time3=0</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;time&nbsp;of&nbsp;the&nbsp;third&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>price3=0</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;price&nbsp;of&nbsp;the&nbsp;third&nbsp;anchor&nbsp;point</span><br> <span>&nbsp;&nbsp;&nbsp;);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>Parameters</span></p> 
<p><span>chart_id</span></p> 
<p><span>[in] &nbsp;Chart identifier.</span></p> 
<p><span>object_name</span></p> 
<p><span>[in] &nbsp;Name of the object. The name must be unique within a chart, including its subwindows.</span></p> 
<p><span>object_type</span></p> 
<p><span>[in] &nbsp;Object type. The value can be one of the values of the <a href="/constants/objectconstants/enum_object">ENUM_OBJECT</a> enumeration.</span></p> 
<p><span>sub_window</span></p> 
<p><span>[in] &nbsp;Number of the chart subwindow. 0 means the main chart window. The specified subwindow must exist (window index must be greater or equal to 0 and less than <a href="/chart_operations/windowstotal">WindowsTotal()</a>), otherwise the function returns false.</span></p> 
<p><span>time1</span></p> 
<p><span>[in] &nbsp;The time coordinate of the first anchor point.</span></p> 
<p><span>price1</span></p> 
<p><span>[in] &nbsp;The price coordinate of the first anchor point.</span></p> 
<p><span>time2=0</span></p> 
<p><span>[in] &nbsp;The time coordinate of the second anchor point.</span></p> 
<p><span>price2=0</span></p> 
<p><span>[in] &nbsp;The price coordinate of the second anchor point.</span></p> 
<p><span>time3=0</span></p> 
<p><span>[in] &nbsp;The time coordinate of the third anchor point.</span></p> 
<p><span>price3=0</span></p> 
<p><span>[in] &nbsp;The price coordinate of the third anchor point.</span></p> 
<p><span>timeN=0</span></p> 
<p><span>[in] &nbsp;The time coordinate of the N-th anchor point.</span></p> 
<p><span>priceN=0</span></p> 
<p><span>[in] &nbsp;The price coordinate of the N-th anchor point.</span></p> 
<p><span>Return Value</span></p> 
<p><span>Returns true or false depending on whether the object is created or not. To read more about the <a href="/constants/errorswarnings/errorcodes">error</a> call <a href="/check/getlasterror">GetLastError()</a>. If the object has been created already, the function tries to change its coordinates.</span></p> 
<p><span>Note</span></p> 
<p><span>An object name should not exceed 63 characters. Characters not belonging to the current code page are not allowed (characters that cannot be converted from Unicode to ANSI are replaced with '?'). If programs are to be distributed among users with different code pages, we strongly recommend using Latin characters in object names.</span></p> 
<p><span>Objects of the OBJ_LABEL type ignore the coordinates. Use the <a href="/objects/objectset">ObjectSet()</a> function to set up the OBJPROP_XDISTANCE and OBJPROP_YDISTANCE properties. The chart sub-windows (if there are sub-windows with indicators in the chart) are numbered starting from 1. The chart main window always exists and has the 0 index. Coordinates must be passed in pairs: time and price. For example, the OBJ_VLINE object needs only time, but price (any value) must be passed, as well. </span></p> 
<p><span>Example:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;start()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;i;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;obj_name=</span><span style="color: #008080;">"label_object"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;current_chart_id=</span><span style="color: #0000ff;">ChartID</span><span>();</span><br> <span style="color: #808080;">//---&nbsp;creating&nbsp;label&nbsp;object&nbsp;(it&nbsp;does&nbsp;not&nbsp;have&nbsp;time/price&nbsp;coordinates)</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(!</span><span style="color: #0000ff;">ObjectCreate</span><span>(current_chart_id,obj_name,</span><span style="color: #0000ff;">OBJ_LABEL</span><span>,0,0,0))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Error:&nbsp;can't&nbsp;create&nbsp;label!&nbsp;code&nbsp;#"</span><span>,</span><span style="color: #0000ff;">GetLastError</span><span>());</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(0);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;set&nbsp;color&nbsp;to&nbsp;Red</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSetInteger</span><span>(current_chart_id,obj_name,</span><span style="color: #0000ff;">OBJPROP_COLOR</span><span>,</span><span style="color: #0000ff;">clrRed</span><span>);</span><br> <span style="color: #808080;">//---&nbsp;move&nbsp;object&nbsp;down&nbsp;and&nbsp;change&nbsp;its&nbsp;text</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span>(i=0;&nbsp;i&lt;200;&nbsp;i++)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;set&nbsp;text&nbsp;property</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSetString</span><span>(current_chart_id,obj_name,</span><span style="color: #0000ff;">OBJPROP_TEXT</span><span>,</span><span style="color: #0000ff;">StringFormat</span><span>(</span><span style="color: #008080;">"Simple&nbsp;Label&nbsp;at&nbsp;y=&nbsp;%d"</span><span>,i));</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;set&nbsp;distance&nbsp;property</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSet</span><span>(obj_name,</span><span style="color: #0000ff;">OBJPROP_YDISTANCE</span><span>,i);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;forced&nbsp;chart&nbsp;redraw</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartRedraw</span><span>(current_chart_id);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Sleep</span><span>(10);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;set&nbsp;color&nbsp;to&nbsp;Blue</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSetInteger</span><span>(current_chart_id,obj_name,</span><span style="color: #0000ff;">OBJPROP_COLOR</span><span>,</span><span style="color: #0000ff;">clrBlue</span><span>);</span><br> <span style="color: #808080;">//---&nbsp;move&nbsp;object&nbsp;up&nbsp;and&nbsp;change&nbsp;its&nbsp;text</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span>(i=200;&nbsp;i&gt;0;&nbsp;i--)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;set&nbsp;text&nbsp;property</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSetString</span><span>(current_chart_id,obj_name,</span><span style="color: #0000ff;">OBJPROP_TEXT</span><span>,</span><span style="color: #0000ff;">StringFormat</span><span>(</span><span style="color: #008080;">"Simple&nbsp;Label&nbsp;at&nbsp;y=&nbsp;%d"</span><span>,i));</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;set&nbsp;distance&nbsp;property</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSet</span><span>(obj_name,</span><span style="color: #0000ff;">OBJPROP_YDISTANCE</span><span>,i);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;forced&nbsp;chart&nbsp;redraw</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartRedraw</span><span>(current_chart_id);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Sleep</span><span>(10);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;delete&nbsp;object</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectDelete</span><span>(obj_name);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(0);</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>See also</span></p> 
<p><span><a href="/constants/objectconstants/enum_object">Object types</a></span></p> 
<br>
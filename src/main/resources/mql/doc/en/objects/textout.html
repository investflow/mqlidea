<h1>TextOut</h1> 
<p><span>The function displays a text in a custom array (buffer) and returns the result of that operation. The array is designed to create the graphical <a href="/common/resourcecreate">resource</a>.</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>bool&nbsp;&nbsp;</span><span>TextOut</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>const&nbsp;string</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>text</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;displayed&nbsp;text</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>int&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>x</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;X&nbsp;coordinate&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>y</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;Y&nbsp;coordinate&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>uint&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>anchor</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;anchor&nbsp;type</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>uint&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&amp;data[]</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;output&nbsp;buffer</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>uint&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>width</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;buffer&nbsp;width&nbsp;in&nbsp;pixels</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>uint&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>height</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;buffer&nbsp;height&nbsp;in&nbsp;pixels</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>uint&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>color</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;text&nbsp;color</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>ENUM_COLOR_FORMAT&nbsp;&nbsp;&nbsp;</span><span>color_format</span><span>&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;color&nbsp;format&nbsp;for&nbsp;output</span><br> <span>&nbsp;&nbsp;&nbsp;);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>Parameters</span></p> 
<p><span>text</span></p> 
<p><span>[in] &nbsp;Displayed text that will be written to the buffer. Only one-lined text is displayed.</span></p> 
<p><span>x</span></p> 
<p><span>[in] &nbsp;X coordinate of the anchor point of the displayed text.</span></p> 
<p><span>y</span></p> 
<p><span>[in] &nbsp;Y coordinate of the anchor point of the displayed text.</span></p> 
<p><span>anchor</span></p> 
<p><span>[in] &nbsp;The value out of the 9 pre-defined methods of the displayed text's anchor point location. The value is set by a combination of two flags  flags of horizontal and vertical text align. Flag names are listed in the Note below.</span></p> 
<p><span>data[]</span></p> 
<p><span>[in] &nbsp;Buffer, in which text is displayed. The buffer is used to create the graphical <a href="/runtime/resources">resource</a>.</span></p> 
<p><span>width</span></p> 
<p><span>[in] &nbsp;Buffer width in pixels.</span></p> 
<p><span>height</span></p> 
<p><span>[in] &nbsp;Buffer height in pixels.</span></p> 
<p><span>color</span></p> 
<p><span>[in] &nbsp;Text color.</span></p> 
<p><span>color_format</span></p> 
<p><span>[in] &nbsp;Color format is set by <a href="/common/resourcecreate#enum_color_format">ENUM_COLOR_FORMAT</a> enumeration value.</span></p> 
<p><span>Returned value</span></p> 
<p><span>Returns true if successful, otherwise false.</span></p> 
<p><span>Note</span></p> 
<p><span>Anchor point specified by </span><span>anchor</span><span> is a combination of two flags of horizontal and vertical text align. Horizontal text align flags:</span></p> 
<ul style="text-indent:0px; padding-left:0; margin-top:0; margin-bottom:0; margin-left: 43px;list-style-position:outside; list-style-type:disc"> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_LEFT  anchor point on the left side of the bounding box</span></li> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_CENTER  horizontal anchor point is located at the center of the bounding box</span></li> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_RIGHT  anchor point on the right side of the bounding box</span></li> 
</ul> 
<p><span>Vertical text align flags:</span></p> 
<ul style="text-indent:0px; padding-left:0; margin-top:0; margin-bottom:0; margin-left: 43px;list-style-position:outside; list-style-type:disc"> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_TOP  anchor point at the upper side of the bounding box</span></li> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_VCENTER  vertical anchor point is located at the center of the bounding box</span></li> 
 <li style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 1px; margin-right: 17px; margin-bottom: 1px;"><span>TA_BOTTOM  anchor point at the lower side of the bounding box</span></li> 
</ul> 
<p><span>&nbsp;</span></p> 
<p><span>Possible combinations of flags and specified anchor points are shown in the image.</span><br> <span>&nbsp;</span></p> 
<p style="text-align: left;"><img alt="9 possible ways to bind a text string" title="9 possible ways to bind a text string" width="451" height="168" style="margin:0;width:451px;height:168px;border:none" src="https://c.mql4.com/i/docs/en/align_text.png"></p> 
<p><span style="font-weight: bold;">Example:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">#property&nbsp;strict</span><span>&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;width&nbsp;and&nbsp;height&nbsp;of&nbsp;the&nbsp;canvas&nbsp;(used&nbsp;for&nbsp;drawing)</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;IMG_WIDTH&nbsp;&nbsp;200</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;IMG_HEIGHT&nbsp;200</span><br> <span style="color: #808080;">//---&nbsp;display&nbsp;the&nbsp;parameter&nbsp;window&nbsp;before&nbsp;launching&nbsp;the&nbsp;script</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">script_show_inputs</span><br> <span style="color: #808080;">//---&nbsp;enable&nbsp;to&nbsp;set&nbsp;color&nbsp;format</span><br> <span style="color: #0000ff;">input</span><span>&nbsp;</span><span style="color: #0000ff;">ENUM_COLOR_FORMAT</span><span>&nbsp;</span><span style="color: #800000;">clr_format</span><span>=</span><span style="color: #0000ff;">COLOR_FORMAT_XRGB_NOALPHA</span><span>;</span><br> <span style="color: #808080;">//---&nbsp;drawing&nbsp;array&nbsp;(buffer)&nbsp;</span><br> <span style="color: #0000ff;">uint</span><span>&nbsp;ExtImg[IMG_WIDTH*IMG_HEIGHT];</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---&nbsp;create&nbsp;OBJ_BITMAP_LABEL&nbsp;object&nbsp;for&nbsp;drawing&nbsp;&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectCreate</span><span>(0,</span><span style="color: #008080;">"CLOCK"</span><span>,</span><span style="color: #0000ff;">OBJ_BITMAP_LABEL</span><span>,0,0,0);</span><br> <span style="color: #808080;">//---&nbsp;specify&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;graphical&nbsp;resource&nbsp;for&nbsp;writing&nbsp;in&nbsp;CLOCK&nbsp;object</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectSetString</span><span>(0,</span><span style="color: #008080;">"CLOCK"</span><span>,</span><span style="color: #0000ff;">OBJPROP_BMPFILE</span><span>,</span><span style="color: #008080;">"::IMG"</span><span>);</span><br> <span>&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;auxiliary&nbsp;variables</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;a;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;arrow&nbsp;corner</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uint</span><span>&nbsp;&nbsp;&nbsp;nm=2700;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;minute&nbsp;corner</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uint</span><span>&nbsp;&nbsp;&nbsp;nh=2700*12;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;hour&nbsp;counter</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uint</span><span>&nbsp;&nbsp;&nbsp;w,h;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;variables&nbsp;for&nbsp;receiving&nbsp;text&nbsp;string&nbsp;sizes&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;x,y;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;variables&nbsp;for&nbsp;calculation&nbsp;of&nbsp;the&nbsp;current&nbsp;coordinates&nbsp;of&nbsp;text&nbsp;string&nbsp;anchor&nbsp;points</span><br> <span style="color: #808080;">&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;rotate&nbsp;clock&nbsp;hands&nbsp;in&nbsp;an&nbsp;infinite&nbsp;loop,&nbsp;till&nbsp;the&nbsp;script&nbsp;is&nbsp;stopped</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span>(!</span><span style="color: #0000ff;">IsStopped</span><span>())</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;clear&nbsp;the&nbsp;clock&nbsp;drawing&nbsp;buffer&nbsp;array</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ArrayFill</span><span>(ExtImg,0,IMG_WIDTH*IMG_HEIGHT,0);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;set&nbsp;the&nbsp;font&nbsp;for&nbsp;drawing&nbsp;digits&nbsp;for&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextSetFont</span><span>(</span><span style="color: #008080;">"Arial"</span><span>,-200,</span><span style="color: #0000ff;">FW_EXTRABOLD</span><span>,0);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;draw&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span>(</span><span style="color: #0000ff;">int</span><span>&nbsp;i=1;i&lt;=12;i++)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;receive&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;current&nbsp;hour&nbsp;on&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextGetSize</span><span>(</span><span style="color: #0000ff;">string</span><span>(i),w,h);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;calculate&nbsp;the&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;current&nbsp;hour&nbsp;on&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=-((i*300)%3600*</span><span style="color: #0000ff;">M_PI</span><span>)/1800.0;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x=IMG_WIDTH/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">sin</span><span>(a)*80+0.5+w/2);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y=IMG_HEIGHT/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">cos</span><span>(a)*80+0.5+h/2);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;output&nbsp;the&nbsp;hour&nbsp;on&nbsp;the&nbsp;clock-face&nbsp;to&nbsp;ExtImg[]&nbsp;buffer</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextOut</span><span>(</span><span style="color: #0000ff;">string</span><span>(i),x,y,</span><span style="color: #0000ff;">TA_LEFT</span><span>|</span><span style="color: #0000ff;">TA_TOP</span><span>,ExtImg,IMG_WIDTH,IMG_HEIGHT,0xFFFFFFFF,</span><span style="color: #800000;">clr_format</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;now,&nbsp;specify&nbsp;the&nbsp;font&nbsp;for&nbsp;drawing&nbsp;the&nbsp;minute&nbsp;hand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextSetFont</span><span>(</span><span style="color: #008080;">"Arial"</span><span>,-200,</span><span style="color: #0000ff;">FW_EXTRABOLD</span><span>,-</span><span style="color: #0000ff;">int</span><span>(nm%3600));</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;receive&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;minute&nbsp;hand</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextGetSize</span><span>(</span><span style="color: #008080;">"-----&gt;"</span><span>,w,h);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;calculate&nbsp;the&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;minute&nbsp;hand&nbsp;on&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=-(nm%3600*</span><span style="color: #0000ff;">M_PI</span><span>)/1800.0;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x=IMG_WIDTH/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">sin</span><span>(a)*h/2+0.5);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y=IMG_HEIGHT/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">cos</span><span>(a)*h/2+0.5);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;output&nbsp;of&nbsp;the&nbsp;minute&nbsp;hand&nbsp;to&nbsp;the&nbsp;clock-face&nbsp;in&nbsp;ExtImg[]buffer</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextOut</span><span>(</span><span style="color: #008080;">"-----&gt;"</span><span>,x,y,</span><span style="color: #0000ff;">TA_LEFT</span><span>|</span><span style="color: #0000ff;">TA_TOP</span><span>,ExtImg,IMG_WIDTH,IMG_HEIGHT,0xFFFFFFFF,</span><span style="color: #800000;">clr_format</span><span>);</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;now,&nbsp;set&nbsp;the&nbsp;font&nbsp;for&nbsp;drawing&nbsp;the&nbsp;minute&nbsp;hand&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextSetFont</span><span>(</span><span style="color: #008080;">"Arial"</span><span>,-200,</span><span style="color: #0000ff;">FW_EXTRABOLD</span><span>,-</span><span style="color: #0000ff;">int</span><span>(nh/12%3600));</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextGetSize</span><span>(</span><span style="color: #008080;">"==&gt;"</span><span>,w,h);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;calculate&nbsp;the&nbsp;coordinates&nbsp;of&nbsp;the&nbsp;hour&nbsp;hand&nbsp;on&nbsp;the&nbsp;clock-face</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=-(nh/12%3600*</span><span style="color: #0000ff;">M_PI</span><span>)/1800.0;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x=IMG_WIDTH/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">sin</span><span>(a)*h/2+0.5);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y=IMG_HEIGHT/2-</span><span style="color: #0000ff;">int</span><span>(</span><span style="color: #0000ff;">cos</span><span>(a)*h/2+0.5);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;output&nbsp;of&nbsp;the&nbsp;hour&nbsp;hand&nbsp;on&nbsp;the&nbsp;clock-face&nbsp;to&nbsp;ExtImg[]&nbsp;buffer</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">TextOut</span><span>(</span><span style="color: #008080;">"==&gt;"</span><span>,x,y,</span><span style="color: #0000ff;">TA_LEFT</span><span>|</span><span style="color: #0000ff;">TA_TOP</span><span>,ExtImg,IMG_WIDTH,IMG_HEIGHT,0xFFFFFFFF,</span><span style="color: #800000;">clr_format</span><span>);</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;update&nbsp;the&nbsp;graphical&nbsp;resource</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ResourceCreate</span><span>(</span><span style="color: #008080;">"::IMG"</span><span>,ExtImg,IMG_WIDTH,IMG_HEIGHT,0,0,IMG_WIDTH,</span><span style="color: #800000;">clr_format</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;forced&nbsp;chart&nbsp;update</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartRedraw</span><span>();</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;increase&nbsp;hour&nbsp;and&nbsp;minute&nbsp;counters</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nm+=60;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nh+=60;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;keeping&nbsp;a&nbsp;short&nbsp;pause&nbsp;between&nbsp;the&nbsp;frames</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Sleep</span><span>(10);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;delete&nbsp;CLOCK&nbsp;object&nbsp;when&nbsp;completing&nbsp;the&nbsp;script's&nbsp;operation</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ObjectDelete</span><span>(0,</span><span style="color: #008080;">"CLOCK"</span><span>);</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>See also</span></p> 
<p><span><a href="/runtime/resources">Resources</a>, <a href="/common/resourcecreate">ResourceCreate()</a>, <a href="/common/resourcesave">ResourceSave()</a>, <a href="/objects/textgetsize">TextGetSize()</a>, <a href="/objects/textsetfont">TextSetFont()</a></span></p> 
<br>
<h1>FileGetInteger</h1> 
<p><span>Gets an integer property of a file. There are two variants of the function.</span></p> 
<p><span>1. Get a property by the handle of a file.</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>long&nbsp;&nbsp;</span><span>FileGetInteger</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>file_handle</span><span>,&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;File&nbsp;handle</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>ENUM_FILE_PROPERTY_INTEGER</span><span>&nbsp;&nbsp;</span><span>property_id</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;Property&nbsp;ID</span><br> <span>&nbsp;&nbsp;&nbsp;);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>2. Get a property by the file name.</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>long&nbsp;&nbsp;</span><span>FileGetInteger</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>const&nbsp;string&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>file_name</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;File&nbsp;name</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>ENUM_FILE_PROPERTY_INTEGER</span><span>&nbsp;&nbsp;</span><span>property_id</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;Property&nbsp;ID</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>bool</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>common_folder=false&nbsp;</span><span>&nbsp;&nbsp;</span><span>//&nbsp;The&nbsp;file&nbsp;is&nbsp;viewed&nbsp;in&nbsp;a&nbsp;local&nbsp;folder&nbsp;(false)</span><br> <span>&nbsp;&nbsp;&nbsp;);</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;or&nbsp;a&nbsp;common&nbsp;folder&nbsp;of&nbsp;all&nbsp;terminals&nbsp;(true)</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>Parameters</span></p> 
<p><span>file_handle</span></p> 
<p><span>[in] &nbsp;File descriptor returned by <a href="/files/fileopen">FileOpen()</a>.</span></p> 
<p><span>file_name</span></p> 
<p><span>[in] &nbsp;File name.</span></p> 
<p><span>property_id</span></p> 
<p><span>[in] &nbsp;File property ID. The value can be one of the values of the <a href="/constants/io_constants/enum_file_property_integer">ENUM_FILE_PROPERTY_INTEGER</a> enumeration. If the second variant of the function is used, you can receive only the values of the <a href="/constants/io_constants/enum_file_property_integer#filegetinteger_limitation">following properties</a>: </span><span>FILE_EXISTS, FILE_CREATE_DATE, FILE_MODIFY_DATE, FILE_ACCESS_DATE and FILE_SIZE.</span></p> 
<p><span>common_folder=false</span></p> 
<p><span>[in] &nbsp;Points to the file location. If the parameter is false, terminal data folder is viewed. Otherwise it is assumed that the file is in the shared folder of all terminals \Terminal\Common\Files (<a href="/constants/io_constants/fileflags">FILE_COMMON</a>).</span></p> 
<p><span>Return Value</span></p> 
<p><span>The value of the property. In case of an error, -1 is returned. To get an error code use the <a href="/check/getlasterror">GetLastError()</a> function.</span></p> 
<p><span>If a folder is specified when getting properties by the name, the function will have error 5018 (ERR_MQL_FILE_IS_DIRECTORY) in any case, though the return value will be correct.</span></p> 
<p><span>Note</span></p> 
<p><span>The function always changes the error code. In case of successful completion the error code is reset to NULL.</span></p> 
<p><span style="font-weight: bold;">Example:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//---&nbsp;display&nbsp;the&nbsp;window&nbsp;of&nbsp;input&nbsp;parameters&nbsp;when&nbsp;launching&nbsp;the&nbsp;script</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">script_show_inputs</span><br> <span style="color: #808080;">//---&nbsp;input&nbsp;parameters</span><br> <span style="color: #0000ff;">input</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;</span><span style="color: #800000;">InpFileName</span><span>=</span><span style="color: #008080;">"data.csv"</span><span>;</span><br> <span style="color: #0000ff;">input</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;</span><span style="color: #800000;">InpDirectoryName</span><span>=</span><span style="color: #008080;">"SomeFolder"</span><span>;</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;path=</span><span style="color: #800000;">InpDirectoryName</span><span>+</span><span style="color: #008080;">"//"</span><span>+</span><span style="color: #800000;">InpFileName</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;&nbsp;&nbsp;l=0;</span><br> <span style="color: #808080;">//---&nbsp;open&nbsp;the&nbsp;file</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ResetLastError</span><span>();</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;handle=</span><span style="color: #0000ff;">FileOpen</span><span>(path,</span><span style="color: #0000ff;">FILE_READ</span><span>|</span><span style="color: #0000ff;">FILE_CSV</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(handle!=</span><span style="color: #0000ff;">INVALID_HANDLE</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;print&nbsp;all&nbsp;information&nbsp;about&nbsp;the&nbsp;file</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #800000;">InpFileName</span><span>,</span><span style="color: #008080;">"&nbsp;file&nbsp;info:"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_EXISTS</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_CREATE_DATE</span><span>,l,</span><span style="color: #008080;">"date"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_MODIFY_DATE</span><span>,l,</span><span style="color: #008080;">"date"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_ACCESS_DATE</span><span>,l,</span><span style="color: #008080;">"date"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_SIZE</span><span>,l,</span><span style="color: #008080;">"other"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_POSITION</span><span>,l,</span><span style="color: #008080;">"other"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_END</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_COMMON</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_TEXT</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_BINARY</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_CSV</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_ANSI</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_READABLE</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileInfo(handle,</span><span style="color: #0000ff;">FILE_IS_WRITABLE</span><span>,l,</span><span style="color: #008080;">"bool"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;close&nbsp;the&nbsp;file</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">FileClose</span><span>(handle);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">PrintFormat</span><span>(</span><span style="color: #008080;">"%s&nbsp;file&nbsp;is&nbsp;not&nbsp;opened,&nbsp;ErrorCode&nbsp;=&nbsp;%d"</span><span>,</span><span style="color: #800000;">InpFileName</span><span>,</span><span style="color: #0000ff;">GetLastError</span><span>());</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Display&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;file&nbsp;property&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;FileInfo(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;handle,</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">ENUM_FILE_PROPERTY_INTEGER</span><span>&nbsp;id,</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;l,</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;type)</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---&nbsp;receive&nbsp;the&nbsp;property&nbsp;value</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ResetLastError</span><span>();</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>((l=</span><span style="color: #0000ff;">FileGetInteger</span><span>(handle,id))!=-1)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;the&nbsp;value&nbsp;received,&nbsp;display&nbsp;it&nbsp;in&nbsp;the&nbsp;correct&nbsp;format</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(!</span><span style="color: #0000ff;">StringCompare</span><span>(type,</span><span style="color: #008080;">"bool"</span><span>))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">EnumToString</span><span>(id),</span><span style="color: #008080;">"&nbsp;=&nbsp;"</span><span>,l&nbsp;?&nbsp;</span><span style="color: #008080;">"true"</span><span>&nbsp;:&nbsp;</span><span style="color: #008080;">"false"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(!</span><span style="color: #0000ff;">StringCompare</span><span>(type,</span><span style="color: #008080;">"date"</span><span>))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">EnumToString</span><span>(id),</span><span style="color: #008080;">"&nbsp;=&nbsp;"</span><span>,(</span><span style="color: #0000ff;">datetime</span><span>)l);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(!</span><span style="color: #0000ff;">StringCompare</span><span>(type,</span><span style="color: #008080;">"other"</span><span>))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">EnumToString</span><span>(id),</span><span style="color: #008080;">"&nbsp;=&nbsp;"</span><span>,l);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Error,&nbsp;Code&nbsp;=&nbsp;"</span><span>,</span><span style="color: #0000ff;">GetLastError</span><span>());</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>See also</span></p> 
<p><span><a href="/files">File Operations</a>, <a href="/constants/io_constants/enum_file_property_integer">File Properties</a></span></p> 
<br>
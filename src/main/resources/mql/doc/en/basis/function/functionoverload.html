<h1>Function Overloading</h1> 
<p><span>Usually the function name tends to reflect its main purpose. As a rule, readable programs contain various well selected <a href="/basis/syntax/identifiers">identifiers</a>. Sometimes different functions are used for the same purposes. Let's consider, for example, a function that calculates the average value of an array of double precision numbers and the same function, but operating with an array of integers. Both are convenient to be called AverageFromArray:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;The&nbsp;calculation&nbsp;of&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;double&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;AverageFromArray(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;&amp;&nbsp;array[],</span><span style="color: #0000ff;">int</span><span>&nbsp;size)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(size&lt;=0)&nbsp;</span><span style="color: #0000ff;">return</span><span>&nbsp;0.0;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;sum=0.0;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;aver;</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span>(</span><span style="color: #0000ff;">int</span><span>&nbsp;i=0;i&lt;size;i++)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum+=array[i];&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;Summation&nbsp;for&nbsp;the&nbsp;double</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;aver=sum/size;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;Just&nbsp;divide&nbsp;the&nbsp;sum&nbsp;by&nbsp;the&nbsp;number</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Calculation&nbsp;of&nbsp;the&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;double&nbsp;type"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>&nbsp;aver;</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;The&nbsp;calculation&nbsp;of&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;int&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;AverageFromArray(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&amp;&nbsp;array[],</span><span style="color: #0000ff;">int</span><span>&nbsp;size)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(size&lt;=0)&nbsp;</span><span style="color: #0000ff;">return</span><span>&nbsp;0.0;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;aver=0.0;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;sum=0;</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span>(</span><span style="color: #0000ff;">int</span><span>&nbsp;i=0;i&lt;size;i++)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum+=array[i];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;Summation&nbsp;for&nbsp;the&nbsp;int</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;aver=(</span><span style="color: #0000ff;">double</span><span>)sum/size;</span><span style="color: #808080;">//&nbsp;Give&nbsp;the&nbsp;amount&nbsp;of&nbsp;type&nbsp;double,&nbsp;and&nbsp;divide</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Calculation&nbsp;of&nbsp;the&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;int&nbsp;type"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>&nbsp;aver;</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>Each function contains the message output via the <a href="/common/print">Print()</a> function;</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Calculation&nbsp;of&nbsp;the&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;int&nbsp;type"</span><span>);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>The compiler selects a necessary function in accordance with the types of arguments and their quantity. The rule, according to which the choice is made, is called the </span><span style="font-style: italic;">signature matching algorithm</span><span>. A signature is a list of types used in the function declaration.</span></p> 
<p><span style="font-weight: bold;">Example:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;a[5]={1,2,3,4,5};</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;b[5]={1.1,2.2,3.3,4.4,5.5};</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;int_aver=AverageFromArray(a,5);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;double_aver=AverageFromArray(b,5);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"int_aver&nbsp;=&nbsp;"</span><span>,int_aver,</span><span style="color: #008080;">"&nbsp;&nbsp;&nbsp;double_aver&nbsp;=&nbsp;"</span><span>,double_aver);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;Result&nbsp;of&nbsp;the&nbsp;script</span><br> <span style="color: #808080;">//&nbsp;Calculate&nbsp;the&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;int&nbsp;type</span><br> <span style="color: #808080;">//&nbsp;Calculate&nbsp;the&nbsp;average&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;double&nbsp;type</span><br> <span style="color: #808080;">//&nbsp;int_aver=&nbsp;3.00000000&nbsp;&nbsp;&nbsp;&nbsp;double_aver=&nbsp;3.30000000</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>Function overloading is a process of creating several functions with the same name, but different parameters. This means that in overloaded variants of a function, the number of arguments and/or their type must be different. A specific function variant is selected based on the correspondence of the list of arguments when calling the function, to the list of parameters in the function declaration.</span></p> 
<p><span>When an overloaded function is called, the compiler must have an algorithm to select the appropriate function. The algorithm that performs this choice depends on <a href="/basis/types/casting">castings</a> of what types are present. The best correspondence must be unique. An overloaded function must be the best match among all the other variants for at least one argument. At the same time it must match for all other arguments not worse than other variants.</span></p> 
<p><span>Below is a matching algorithm for each argument.</span></p> 
<h2>Algorithm of Choosing an Overloaded Function</h2> 
<ol style="text-indent:0px; padding-left:0; margin-top:0; margin-bottom:0; margin-left: 37px;list-style-position:outside; list-style-type:decimal"> 
 <li value="1" style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 3px; margin-right: 17px; margin-bottom: 3px;"><span>Use strict matching (if possible).</span></li> 
 <li value="2" style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 3px; margin-right: 17px; margin-bottom: 3px;"><span>Try standard type increase.</span></li> 
 <li value="3" style="text-align: justify; padding: 0px 0px 0px 0px; margin-top: 3px; margin-right: 17px; margin-bottom: 3px;"><span>Try standard typecasting.</span></li> 
</ol> 
<p><span>The standard type increase is better than other standard conversions. Increase is the conversion of </span><span style="color: #0000ff;">float</span><span> to </span><span style="color: #0000ff;">double</span><span>, of </span><span style="color: #0000ff;">bool</span><span>, </span><span style="color: #0000ff;">char</span><span>, </span><span style="color: #0000ff;">short</span><span> or </span><span style="color: #0000ff;">enum</span><span> to </span><span style="color: #0000ff;">int</span><span>. Typecasting of arrays of similar <a href="/basis/types/integer">integer types</a> also belongs to typecasting. Similar types are: bool, char, uchar, since all the three types are single-byte integers; double-byte integers short and ushort; 4-byte integers int, uint, and color; long, ulong, and datetime.</span></p> 
<p><span>Of course, the strict matching is the best. To achieve such a consistency <a href="/basis/types/casting">typecasting</a> can be used. The compiler cannot cope with ambiguous situations. Therefore you should not rely on subtle differences of types and implicit conversions that make the overloaded function unclear.</span></p> 
<p><span>If you doubt, use explicit conversion to ensure strict compliance.</span></p> 
<p><span>Examples of overloaded functions in MQL4 can be seen in the example of <a href="/array/arrayinitialize">ArrayInitialize()</a> functions.</span></p> 
<p><span>Function overloading rules apply to <a href="/basis/oop/overload">overload of class methods.</a></span></p> 
<p><span>&nbsp;</span></p> 
<p><span>Overloading of system functions is allowed, but it should be observed that the compiler is able to accurately select the necessary function. For example, we can overload the system function <a href="/math/mathmax">MathMax()</a> in 4 different ways, but only two variants are correct.</span></p> 
<p><span style="font-weight: bold;">Example:</span></p> 
<div style="text-align: left; text-indent: 0px; line-height: 1.0; page-break-inside: avoid; border-color: #b3b3b3; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody>
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//&nbsp;1.&nbsp;overload&nbsp;is&nbsp;allowed&nbsp;-&nbsp;function&nbsp;differs&nbsp;from&nbsp;built-in&nbsp;MathMax()&nbsp;function&nbsp;in&nbsp;the&nbsp;number&nbsp;of&nbsp;parameters</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;</span><span style="color: #0000ff;">MathMax</span><span>(</span><span style="color: #0000ff;">double</span><span>&nbsp;a,</span><span style="color: #0000ff;">double</span><span>&nbsp;b,</span><span style="color: #0000ff;">double</span><span>&nbsp;c);</span><br> <span>&nbsp;</span><br> <span style="color: #808080;">//&nbsp;2.&nbsp;overload&nbsp;is&nbsp;not&nbsp;allowed!</span><br> <span style="color: #808080;">//&nbsp;number&nbsp;of&nbsp;parameters&nbsp;is&nbsp;different,&nbsp;but&nbsp;the&nbsp;last&nbsp;has&nbsp;a&nbsp;default&nbsp;value</span><br> <span style="color: #808080;">//&nbsp;this&nbsp;leads&nbsp;to&nbsp;the&nbsp;concealment&nbsp;of&nbsp;the&nbsp;system&nbsp;function&nbsp;when&nbsp;calling,&nbsp;which&nbsp;is&nbsp;unacceptable</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;</span><span style="color: #0000ff;">MathMax</span><span>(</span><span style="color: #0000ff;">double</span><span>&nbsp;a,</span><span style="color: #0000ff;">double</span><span>&nbsp;b,</span><span style="color: #0000ff;">double</span><span>&nbsp;c=</span><span style="color: #0000ff;">DBL_MIN</span><span>);</span><br> <span>&nbsp;</span><br> <span style="color: #808080;">//&nbsp;3.&nbsp;overload&nbsp;is&nbsp;allowed&nbsp;-&nbsp;normal&nbsp;overload&nbsp;by&nbsp;type&nbsp;of&nbsp;parameters&nbsp;a&nbsp;and&nbsp;b</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;</span><span style="color: #0000ff;">MathMax</span><span>(</span><span style="color: #0000ff;">int</span><span>&nbsp;a,</span><span style="color: #0000ff;">int</span><span>&nbsp;b);</span><br> <span>&nbsp;</span><br> <span style="color: #808080;">//&nbsp;4.&nbsp;overload&nbsp;is&nbsp;not&nbsp;allowed!</span><br> <span style="color: #808080;">//&nbsp;the&nbsp;number&nbsp;and&nbsp;types&nbsp;of&nbsp;parameters&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;in&nbsp;original&nbsp;double&nbsp;MathMax(double&nbsp;a,double&nbsp;b)</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;</span><span style="color: #0000ff;">MathMax</span><span>(</span><span style="color: #0000ff;">double</span><span>&nbsp;a,</span><span style="color: #0000ff;">double</span><span>&nbsp;b);</span></p></td> 
   </tr> 
  </tbody>
 </table> 
</div> 
<p><span>See also</span></p> 
<p><span><a href="/basis/oop/overload">Overload</a>, <a href="/basis/oop/virtual">Virtual Functions</a>, <a href="/basis/oop/polymorphism">Polymorphism</a></span></p> 
<br>
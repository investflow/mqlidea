<h1>Предопределенные переменные</h1> 
<p><span>Для каждой выполняющейся mql4-программы поддерживается ряд предопределенных переменных, которые отражают состояние текущего ценового графика на момент запуска программы - эксперта, скрипта или пользовательского индикатора.</span></p> 
<p><span>Значение предопределенным переменным устанавливает клиентский терминал перед запуском mql4-программы на выполнение. Предопределенные переменные константны и не могут быть изменены из mql4-программы. Исключение составляет переменная _LastError, которая может быть обнулена функцией <a href="/common/resetlasterror">ResetLastError</a>.</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; width:131px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Переменная</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_digits">_Digits</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Количество десятичных знаков после запятой</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_point">_Point</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Размер пункта текущего инструмента в валюте котировки</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_lasterror">_LastError</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение последней ошибки</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_period">_Period</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение таймфрейма текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_randomseed">_RandomSeed</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Текущее состояние генератора псевдослучайных целых чисел</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_stopflag">_StopFlag</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Флаг остановки программы</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_symbol">_Symbol</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя символа текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/_uninitreason">_UninitReason</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Код причины деинициализации программы</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/ask">Ask</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Последняя известная цена продажи текущего инструмента</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/bars">Bars</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Количество баров на текущем графике</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/bid">Bid</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Последняя известная цена покупки текущего инструмента</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/close">Close</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий цены закрытия каждого бара текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/digitsvar">Digits</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Количество цифр после десятичной точки в цене текущего инструмента</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/high">High</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий максимальные цены каждого бара текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/low">Low</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий минимальные цены каждого бара текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/open">Open</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий цены открытия каждого бара текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/pointvar">Point</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Размер пункта текущего инструмента в валюте котировки</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/time">Time</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий время открытия каждого бара текущего графика</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:131px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/predefined/volume">Volume</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Массив-таймсерия, содержащий тиковые объемы каждого бара текущего графика</span></p> </td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Предопределенные переменные не могут быть определены в библиотеке. Библиотека использует эти переменные, определенные в программе, из которой эта библиотека была вызвана.</span></p> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Имя&nbsp;символа&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">_Symbol</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Значение&nbsp;таймфрейма&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">_Period</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Последняя&nbsp;известная&nbsp;цена&nbsp;продажи&nbsp;текущего&nbsp;инструмента="</span><span>,</span><span style="color: #0000ff;">Ask</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Последняя&nbsp;известная&nbsp;цена&nbsp;покупки&nbsp;текущего&nbsp;инструмента="</span><span>,</span><span style="color: #0000ff;">Bid</span><span>);&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Количество&nbsp;десятичных&nbsp;знаков&nbsp;после&nbsp;запятой="</span><span>,</span><span style="color: #0000ff;">Digits</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Количество&nbsp;десятичных&nbsp;знаков&nbsp;после&nbsp;запятой="</span><span>,</span><span style="color: #0000ff;">_Digits</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Размер&nbsp;пункта&nbsp;текущего&nbsp;инструмента&nbsp;в&nbsp;валюте&nbsp;котировки="</span><span>,</span><span style="color: #0000ff;">_Point</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Размер&nbsp;пункта&nbsp;текущего&nbsp;инструмента&nbsp;в&nbsp;валюте&nbsp;котировки="</span><span>,</span><span style="color: #0000ff;">Point</span><span>);&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Количество&nbsp;баров&nbsp;на&nbsp;текущем&nbsp;графике="</span><span>,</span><span style="color: #0000ff;">Bars</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Цена&nbsp;открытия&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">Open</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Цена&nbsp;закрытия&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">Close</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Максимальная&nbsp;цена&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">High</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Минимальная&nbsp;цена&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">Low</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Время&nbsp;открытия&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">Time</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Тиковый&nbsp;объем&nbsp;текущего&nbsp;бара&nbsp;текущего&nbsp;графика="</span><span>,</span><span style="color: #0000ff;">Volume</span><span>[0]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Значение&nbsp;последней&nbsp;ошибки="</span><span>,</span><span style="color: #0000ff;">_LastError</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Текущее&nbsp;состояние&nbsp;генератора&nbsp;псевдослучайных&nbsp;целых&nbsp;чисел="</span><span>,</span><span style="color: #0000ff;">_RandomSeed</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Флаг&nbsp;остановки&nbsp;программы="</span><span>,</span><span style="color: #0000ff;">_StopFlag</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Код&nbsp;причины&nbsp;деинициализации&nbsp;программы="</span><span>,</span><span style="color: #0000ff;">_UninitReason</span><span>);&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<br>
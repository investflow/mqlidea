<h1>Выполнение программ</h1> 
<p><span>Каждый скрипт и каждый эксперт работает в собственном отдельном потоке. Все индикаторы работают в одном интерфейсном потоке терминала. Обработка тиков и синхронизация истории также производится в интерфейсном потоке. Если пользовательский индикатор вызван при помощи функции <a href="/indicators/icustom">iCustom()</a>, то этот индикатор работает в потоке вызвавшей его программы. Библиотечные (импортируемые) функции также работают в потоке вызывающей программы.</span></p>
<p><span>При запуске эксперта ему необходимо обеспечить актуальное <a href="/marketinformation">торговое окружение</a>, <a href="/series/timeseries_access">доступность истории</a> по данному символу и периоду, а также произвести <a href="/series/timeseries_access#synchronized">синхронизацию</a> между терминалом и сервером. На эти процедуры терминал предоставляет эксперту отсрочку запуска не более чем в 5 секунд, по истечении которых эксперт будет запущен с теми данными, что удалось подготовить. Поэтому при отсутствии связи с сервером это может привести к задержке запуска эксперта.</span></p>
<p><span>Краткая сводка по программам на MQL4 приведена в таблице:</span></p> 
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; width:150px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Программа</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Выполнение</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Примечание</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:150px; padding:5px; border:solid thin #b1c2d6;"><p><span>Скрипт</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>В собственном потоке, сколько скриптов - столько потоков выполнения для них</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Зацикленный скрипт не может нарушить работу других программ</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:150px; padding:5px; border:solid thin #b1c2d6;"><p><span>Эксперт</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>В собственном потоке, сколько экспертов - столько потоков выполнения для них</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Зацикленный эксперт не может нарушить работу других программ</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:150px; padding:5px; border:solid thin #b1c2d6;"><p><span>Индикатор</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>В одном интерфейсном потоке терминала</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Бесконечный цикл в одном индикаторе остановит работу терминала</span></p> </td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Сразу после присоединения программы к графику производится ее загрузка в память клиентского терминала и <a href="/basis/variables/initialization">инициализация</a> глобальных переменных. Если какая-либо глобальная переменная типа класса имеет <a href="/basis/types/classes#constructor">конструктор</a>, то этот конструктор будет вызван в процессе инициализации <a href="/basis/variables/global">глобальных переменных</a>.</span></p>
<p><span>После этого программа находится в состоянии ожидания <a href="/runtime/event_fire">события</a> от клиентского терминала. У каждой mql4-программы должна быть хотя бы одна <a href="/basis/function/events">функция-обработчик</a> события, в противном случае загруженная программа выполняться не будет. Функции-обработчики событий имеют предопределенные имена, предопределенные наборы параметров и предопределенные типы возврата.</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; width:44px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Тип</span></p> </td> 
    <td style="vertical-align:top; width:97px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя функции</span></p> </td> 
    <td style="vertical-align:top; width:155px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Параметры</span></p> </td> 
    <td style="vertical-align:top; width:100px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Применение</span></p> </td> 
    <td style="vertical-align:top; width:420px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Примечание</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>int</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#oninit">OnInit</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>нет</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты, индикаторы и скрипты</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#init">Init</a>. Допускается тип возвращаемого значения void.</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>void</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#ondeinit">OnDeinit</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>const int reason</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты, индикаторы и скрипты</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#deinit">Deinit</a>.</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>void</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#onstart">OnStart</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>нет</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>скрипты</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#start">Start</a>.</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>int</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#oncalculate">OnCalculate</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>const int rates_total,</span></p> <p><span>const int prev_calculated,</span></p> <p><span>const datetime &amp;Time[],</span></p> <p><span>const double &amp;Open[],</span></p> <p><span>const double &amp;High[],</span></p> <p><span>const double &amp;Low[],</span></p> <p><span>const double &amp;Close[],</span></p> <p><span>const long &amp;TickVolume[],</span></p> <p><span>const long &amp;Volume[],</span></p> <p><span>const int &amp;Spread[]</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>индикаторы</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события Calculate на всех ценовых данных.</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>void</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#ontick">OnTick</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>нет</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#newtick">NewTick</a>. Пока идет обработка события прихода нового тика другие события этого типа не приходят.</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>void</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#ontimer">OnTimer</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>нет</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты и индикаторы</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#timer">Timer</a>.</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>double</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#ontester">OnTester</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>нет</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчики события <a href="/runtime/event_fire#tester">Tester</a></span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; width:44px; padding:5px; border:solid thin #b1c2d6;"><p><span>void</span></p> </td> 
    <td style="vertical-align:top; width:97px; padding:5px; border:solid thin #b1c2d6;"><p><span><a href="/basis/function/events#onchartevent">OnChartEvent</a></span></p> </td>
    <td style="vertical-align:top; width:155px; padding:5px; border:solid thin #b1c2d6;"><p><span>const int id,</span></p> <p><span>const long &amp;lparam,</span></p> <p><span>const double &amp;dparam,</span></p> <p><span>const string &amp;sparam</span></p> </td> 
    <td style="vertical-align:top; width:100px; padding:5px; border:solid thin #b1c2d6;"><p><span>эксперты и индикаторы</span></p> </td> 
    <td style="vertical-align:top; width:420px; padding:5px; border:solid thin #b1c2d6;"><p><span>Обработчик события <a href="/runtime/event_fire#chartevent">ChartEvent</a>.</span></p> </td>
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Клиентский терминал отсылает возникающие события в соответствующие открытые графики. Также события могут генерироваться графиками (<a href="/basis/function/events#onchartevent">события графика</a>) либо mql4-программами (<a href="/eventfunctions/eventchartcustom">пользовательские события</a>). &nbsp;Генерацию событий создания и удаления графических объектов на графике можно включать и отключать заданием свойств графика <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_CREATE</a> и <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_DELETE</a>. Каждая mql4-программа и каждый график имеют свою собственную очередь событий, куда складываются все вновь поступающие события.</span></p>
<p><span>Программа получает события только от графика, на котором она запущена. Все события обрабатываются одно за другим в порядке поступления. Если в очереди уже есть событие <a href="/runtime/event_fire#newtick">NewTick</a> либо это событие находится в состоянии обработки, то новое событие NewTick в очередь mql4-программы не ставится. Аналогично, если в очереди mql4-программы уже находится событие <a href="/runtime/event_fire#chartevent">ChartEvent</a> или такое событие обрабатывается, то новое событие такого типа не ставится в очередь. Обработка событий таймера производится по такой же схеме – если в очереди находится или уже обрабатывается событие <a href="/runtime/event_fire#timer">Timer</a>, то новое событие таймера не ставится в очередь.</span></p>
<p><span>Очереди событий имеют ограниченный, но достаточный размер, поэтому переполнение очереди для корректно написанной программы маловероятно. При переполнении очереди новые события отбрасываются без постановки в очередь.</span></p> 
<p><span>Крайне не рекомендуется использовать бесконечные циклы для обработки событий. Исключением из этого правила могут быть только скрипты, которые обрабатывают одно единственное событие <a href="/runtime/event_fire#start">Start</a>.</span></p>
<p><span><a href="/ru#library">Библиотеки</a> не обрабатывают никаких событий.</span></p> 
<p><span>&nbsp;</span></p> 
<h3>Запрет на использование функций в индикаторах и экспертах</h3> 
<p><span>Индикаторы, скрипты и эксперты являются исполняемыми программами на MQL4 и предназначены для различных типов задач. Поэтому существует ограничение на использование определенных функций в зависимости от <a href="/constants/environment_state/mql4_programm_info#enum_program_type">типа программы</a>. В индикаторах запрещены следующие функции:</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/trading/ordersend">OrderSend()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/common/sendftp">SendFTP()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/common/sleep">Sleep()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/common/expertremove">ExpertRemove()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/common/messagebox">MessageBox()</a>.</span></p>
<p><span>&nbsp;</span></p> 
<p><span>В свою очередь, в экспертах и скриптах запрещены все функции, предназначенные для индикаторов:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/customind/setindexbuffer">SetIndexBuffer()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/customind/indicatorsetdouble">IndicatorSetDouble()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/customind/indicatorsetinteger">IndicatorSetInteger()</a>;</span></p>
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span><a href="/customind/indicatorsetstring">IndicatorSetString()</a>.</span></p>
<p><span>Библиотека не является самостоятельной программой и выполняется в контексте вызвавшей её MQL4-программы: скрипт, индикатор или эксперт. Соответственно, на вызванную библиотеку распространяются указанные выше ограничения.</span></p> 
<p><span>&nbsp;</span></p> 
<h3><a id="load"></a>Загрузка и выгрузка индикаторов</h3> 
<p><span>Индикаторы загружаются в следующих случаях:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>прикрепление индикатора к графику;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>запуск терминала (если индикатор был прикреплен к графику перед предыдущим закрытием терминала);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>загрузка шаблона (если в шаблоне указан прикрепленный к графику индикатор);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена профиля (если индикатор прикреплен к одному из графиков профиля);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена символа и/или периода графика, к которому прикреплен индикатор;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>после удачной перекомпиляции индикатора, если данный индикатор был прикреплен к графику.</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменение <a href="/basis/variables/inputvariables">входных параметров</a> индикатора.</span></p>
<p><span>Индикаторы выгружаются в следующих случаях:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>при откреплении индикатора от графика;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>закрытие терминала (если индикатор был прикреплен к графику);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>загрузка шаблона, если к графику прикреплен индикатор;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>закрытие графика, к которому был прикреплен индикатор;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена профиля, если индикатор прикреплен к одному из графиков сменяемого профиля;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена символа и/или периода графика, к которому прикреплен индикатор;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменение входных параметров индикатора.</span></p> 
<p><span>&nbsp;</span></p> 
<h3>Загрузка и выгрузка экспертов</h3> 
<p><span>Загрузка эксперта производится в следующих случаях:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>прикрепление эксперта к графику;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>запуск терминала (если эксперт был прикреплен к графику перед предыдущим закрытием терминала);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>загрузка шаблона (если в шаблоне указан прикрепленный к графику эксперт);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>после удачной перекомпиляции эксперта, если данный эксперт был прикреплен к графику.</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена профиля (если эксперт прикреплен к одному из графиков профиля);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>подключение к счету, даже если номер счета не менялся (если эксперт был прикреплен к графику перед авторизацией терминала на сервере).</span></p> 
<p><span>Выгрузка эксперта, прикрепленного к графику, производится в следующих случаях:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>при откреплении эксперта от графика;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>при прикреплении эксперта к графику – если на данном графике был уже другой эксперт, то этот эксперт выгружается;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>закрытие терминала (если эксперт был прикреплен к графику);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>загрузка шаблона, если к графику прикреплен эксперт;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>закрытие графика, к которому был прикреплен эксперт;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена профиля, если эксперт прикреплен к одному из графиков сменяемого профиля;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>смена счета, к которому подключен терминал (если эксперт был прикреплен к графику перед авторизацией терминала на сервере);</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>вызов функции <a href="/common/expertremove">ExpertRemove()</a>.</span></p>
<p><span style="font-weight: bold;">При смене символа или таймфрейма графика, к которому эксперт прикреплен, выгрузка и загрузка эксперта не производится</span><span>. При этом последовательно вызываются обработчики <a href="/basis/function/events#ondeinit">OnDeinit()</a> на старом символе/таймфрейме и <a href="/basis/function/events#oninit">OnInit()</a> на новом символе/таймфрейме (если они есть), значения глобальных переменных и <a href="/basis/variables/static">статических переменных</a> не сбрасываются. Все события, поступившие для эксперта до завершения инициализации (функции <a href="/basis/function/events#oninit">OnInit()</a>), пропускаются.</span></p>
<p><span>Для лучшего понимания работы эксперта рекомендуется скомпилировать код приведенного в примере эксперта и произвести действия по загрузке/выгрузке экспертов, смене шаблона, символа, таймфрейма и так далее:</span></p> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestExpert.mq5&nbsp;|</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2014,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.mql5.com&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">copyright</span><span>&nbsp;</span><span style="color: #008080;">"2014,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp."</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">link</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008080;">"https://www.mql5.com"</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">version</span><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #008080;">"1.00"</span><br> <span style="color: #008080;">&nbsp;</span><br> <span style="color: #0000ff;">class</span><span>&nbsp;CTestClass</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #0000ff;">public</span><span>:&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;CTestClass()&nbsp;{&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"CTestClass&nbsp;constructor"</span><span>);&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;~CTestClass()&nbsp;{&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"CTestClass&nbsp;destructor"</span><span>);&nbsp;}</span><br> <span>&nbsp;&nbsp;};</span><br> <span>CTestClass&nbsp;global;</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;</span><span style="color: #0000ff;">OnInit</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Initialization"</span><span>);</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(</span><span style="color: #0000ff;">INIT_SUCCEEDED</span><span>);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Expert&nbsp;deinitialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnDeinit</span><span>(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;reason)</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Deinitialization&nbsp;with&nbsp;reason&nbsp;"</span><span>,reason);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Expert&nbsp;tick&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnTick</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span style="color: #808080;">&nbsp;</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>&nbsp;</h3> 
<h3>Загрузка и выгрузка скриптов</h3> 
<p><span>Скрипты загружаются сразу после прикрепления к графику и выгружаются сразу после окончания своей работы.</span></p> 
<p><span>При выгрузке программы (удалении программы с графика) происходит деинициализация <a href="/basis/variables/global">глобальных</a> переменных и уничтожение очереди сообщений. В этом случае деинициализация означает освобождение переменных типа <a href="/basis/types/stringconst">string</a>, освобождение <a href="/basis/types/dynamic_array">объектов&nbsp;динамических&nbsp;массивов</a> и вызов <a href="/basis/types/classes#destructor">деструкторов</a> при их наличии.</span></p>
<p><span>Скрипты загружаются сразу после прикрепления к графику и выгружаются сразу после окончания своей работы.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript.mq5&nbsp;|</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2014,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span><br> <span style="color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.mql5.com&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">copyright</span><span>&nbsp;</span><span style="color: #008080;">"2014,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp."</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">link</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008080;">"https://www.mql5.com"</span><br> <span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">version</span><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #008080;">"1.00"</span><br> <span>&nbsp;</span><br> <span style="color: #0000ff;">class</span><span>&nbsp;CTestClass</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #0000ff;">public</span><span>:&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;CTestClass()&nbsp;{&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"CTestClass&nbsp;constructor"</span><span>);&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;~CTestClass()&nbsp;{&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"CTestClass&nbsp;destructor"</span><span>);&nbsp;}</span><br> <span>&nbsp;&nbsp;};</span><br> <span>CTestClass&nbsp;global;</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnInit</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">__FUNCTION__</span><span>);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;deinitialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnDeinit</span><span>(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;reason)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">__FUNCTION__</span><span>,</span><span style="color: #008080;">"&nbsp;reason="</span><span>,reason);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">__FUNCTION__</span><span>);</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Входные параметры и компиляция исходного кода программ</h3> 
<p><span>Если исходный код запущенной на графике программы будет успешно перекомпилирован, то старая ее версия будет выгружена с графика, а вместо нее будет загружена новая скомпилированная копия.</span></p> 
<p><span>В случае если после перекомпиляции состав <a href="/basis/variables/inputvariables">входных параметров</a> не изменился, будут применены те значения параметров, которые были до этого установлены. Если же состав параметров изменился, будут применены значения по умолчанию.</span></p>
<p><span>Состав входных параметров программы считается измененным при правке исходного кода в следующих случаях:</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменилось количество параметров;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменился порядок следования параметров;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменились наименования параметров;</span></p> 
<p style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 2px 17px 3px 17px;"><span style="display:inline-block;width:13px;margin-left:-13px;font-size:10pt;font-family:'Symbol';font-style:normal;color:#565656;text-decoration:none;">•</span><span>изменился тип одного или более параметров.</span></p> 
<p><span>Изменение значения по умолчанию любого из параметров не считается изменением состава входных параметров.</span></p> 
<p><span>Состав входных параметров однозначно идентифицирует программу в исполнительной системе терминала, и при неизменности этого состава новые версии исполняемого файла считаются сохранившими всю логику и функциональность уже запущенной программы.</span></p> 
<p><span>В случае изменения состава входных параметров терминал воспримет новый исполняемый файл как несовместимый по функционалу с ранее запущенной на графике программой. Поэтому новая перекомпилированная программа будет загружена с набором входных параметров со значениями по умолчанию.</span></p> 
<p><span>В остальных случаях (в том числе при изменении значения по умолчанию любого из параметров) после перекомпиляции будут применены предыдущие параметры, которые были использованы до перекомпиляции.</span></p> 
<p><span>При любой компиляции будет вызвана предопределенная функция <a href="/runtime/event_fire#init">OnInit()</a>, назначение которой состоит в правильной инициализации всех <a href="/basis/variables/global">глобальных</a> и <a href="/basis/variables/static">статических</a> переменных программы. Именно в обработчике OnInit() необходимо правильным образом получать значения входных параметров программы.</span></p>
<p><span>Смотри также</span></p> 
<p><span><a href="/runtime/event_fire">События клиентского терминала</a>, <a href="/basis/function/events">Функции обработки событий</a></span></p>
<br>
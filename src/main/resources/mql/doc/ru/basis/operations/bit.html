<h1>Побитовые операции</h1> 
<h3>Дополнение до единицы</h3> 
<p><span>Дополнение до единицы значения переменной. Значение выражения содержит 1 во всех разрядах, в которых значение переменной содержит 0, и 0 во всех разрядах, в которых значения переменной содержит 1.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>b&nbsp;=&nbsp;~n;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a=</span><span style="color: #008000;">'a'</span><span>,b;</span><br> <span>&nbsp;&nbsp;&nbsp;b=~a;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"a&nbsp;=&nbsp;"</span><span>,a,&nbsp;</span><span style="color: #008000;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);&nbsp;&nbsp;</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;a=&nbsp;97&nbsp;&nbsp;&nbsp;b=&nbsp;-98</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Сдвиг вправо</h3> 
<p><span>Двоичное представление x сдвигается вправо на y разрядов. Если сдвигаемое значение имеет беззнаковый тип, то осуществляется логический сдвиг вправо, то есть, освобождающиеся слева разряды будут заполняться нулями.</span></p> 
<p><span>Если же сдвигаемое значение имеет знаковый тип, то осуществляется арифметический сдвиг вправо, то есть освобождающиеся слева разряды будут заполняться значением знакового бита (если число положительное, то значение знакового бита равно 0, если число отрицательное, то значение знакового бита равно 1)</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>x&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;y;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a='a',b='b';</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Before:&nbsp;&nbsp;a&nbsp;=&nbsp;"</span><span>,a,&nbsp;</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;произведем&nbsp;сдвиг&nbsp;вправо&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;b=a&gt;&gt;1;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"After:&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;"</span><span>,a,&nbsp;</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);&nbsp;</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;Before:&nbsp;&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;98</span><br> <span style="color: #808080;">//&nbsp;After:&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;48</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Сдвиг влево</h3> 
<p><span>Двоичное представление x сдвигается влево на y разрядов; освобождающиеся справа разряды заполняются нулями.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>x&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;y;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a='a',b='b';</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Before:&nbsp;&nbsp;a&nbsp;=&nbsp;"</span><span>,a,&nbsp;</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;произведем&nbsp;сдвиг&nbsp;влево&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;b=a&lt;&lt;1;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"After:&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;"</span><span>,a,&nbsp;</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);&nbsp;</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;Before:&nbsp;&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;98</span><br> <span style="color: #808080;">//&nbsp;After:&nbsp;&nbsp;&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;-62</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Не рекомендуется производить сдвиг на большее или равное число битов, чем разрядность сдвигаемой переменной, так как результат такой операции не определен.</span></p> 
<p><span style="font-weight: normal;">При выполнении операции сдвига над 32-х битными типами для вычисления сдвига учитываются только младшие 5 бит, а для операций сдвига над 64-х битными типами значения сдвига определяется только младшими 6 битами. Покажем это на примере:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;a=305;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;тип&nbsp;int&nbsp;имеет&nbsp;размер&nbsp;4&nbsp;байта&nbsp;и&nbsp;является&nbsp;32-х&nbsp;битными&nbsp;число</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;b=a;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;сделаем&nbsp;копию</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;shift=37;&nbsp;</span><span style="color: #808080;">//&nbsp;зададим&nbsp;переменную&nbsp;сдвига</span><br> <span>&nbsp;&nbsp;&nbsp;shift++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;увеличим&nbsp;значения&nbsp;на&nbsp;1,&nbsp;shift=38</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;задаем&nbsp;сдвиг&nbsp;на&nbsp;38&nbsp;разрядов,&nbsp;но&nbsp;на&nbsp;самом&nbsp;деле&nbsp;будет&nbsp;произведен&nbsp;сдвиг&nbsp;на&nbsp;6&nbsp;разрядов</span><br> <span>&nbsp;&nbsp;&nbsp;a=a&gt;&gt;shift;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;38&nbsp;в&nbsp;двоичном&nbsp;представлении&nbsp;будет&nbsp;выглядеть&nbsp;как&nbsp;'100110',&nbsp;младшие&nbsp;5&nbsp;бит&nbsp;'00110'&nbsp;представляют&nbsp;число&nbsp;6&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;b=b&gt;&gt;6;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;над&nbsp;переменной&nbsp;b&nbsp;произведен&nbsp;сдвиг&nbsp;на&nbsp;6&nbsp;разрядов</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;убедимся,&nbsp;что&nbsp;переменные&nbsp;a&nbsp;и&nbsp;b&nbsp;содержат&nbsp;одинаковое&nbsp;значение&nbsp;после&nbsp;операции&nbsp;сдвига</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;=&nbsp;"</span><span>,&nbsp;a,&nbsp;</span><span style="color: #008080;">"&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,&nbsp;b);</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Побитовая операция И</h3> 
<p><span>Побитовая операция И двоичных представлений x и y. Значение выражения содержит 1 (ИСТИНА) во всех разрядах, в которых и x, и y содержат не ноль; и 0 (ЛОЖЬ) во всех остальных разрядах.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>b&nbsp;=&nbsp;((x&nbsp;&amp;&nbsp;y)&nbsp;!=&nbsp;</span><span style="color: #008080;">0</span><span>);</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a='a',b='b';</span><br> <span style="color: #808080;">//---&nbsp;операция&nbsp;И</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;c=a&amp;b;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;=&nbsp;"</span><span>,a,</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;&amp;&nbsp;b&nbsp;=&nbsp;"</span><span>,c);</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;98</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;&amp;&nbsp;b&nbsp;=&nbsp;96</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Побитовая операция ИЛИ</h3> 
<p><span>Побитовая операция ИЛИ двоичных представлений x и y. Значение выражения содержит 1 во всех разрядах, в которых x или y не содержит 0, и 0 - во всех остальных разрядах.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>b&nbsp;=&nbsp;x&nbsp;|&nbsp;y;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a='a',b='b';</span><br> <span style="color: #808080;">//---&nbsp;операция&nbsp;ИЛИ</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;c=a|b;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;=&nbsp;"</span><span>,a,</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;|&nbsp;b&nbsp;=&nbsp;"</span><span>,c);</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;98</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;|&nbsp;b&nbsp;=&nbsp;99</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Побитовая операция исключающее ИЛИ</h3> 
<p><span>Побитовая операция исключающее ИЛИ (eXclusive OR) двоичных представлений x и y. Значение выражения содержит 1 в тех разрядах, в которых x и y имеют разные двоичные значения, и 0 - во всех остальных разрядах.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>b&nbsp;=&nbsp;x&nbsp;^&nbsp;y;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;a='a',&nbsp;b='b';</span><br> <span style="color: #808080;">//---&nbsp;операция&nbsp;исключающее&nbsp;ИЛИ</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;c=a^b;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;=&nbsp;"</span><span>,a,</span><span style="color: #008080;">"&nbsp;&nbsp;b&nbsp;=&nbsp;"</span><span>,b);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"a&nbsp;^&nbsp;b&nbsp;=&nbsp;"</span><span>,c);</span><br> <span style="color: #808080;">//&nbsp;Результат&nbsp;будет&nbsp;такой:</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;=&nbsp;97&nbsp;&nbsp;&nbsp;b&nbsp;=&nbsp;98</span><br> <span style="color: #808080;">//&nbsp;a&nbsp;^&nbsp;b&nbsp;=&nbsp;3</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Побитовые операции выполняются только с <a href="/basis/types/integer">целыми&nbsp;числами</a>.</span></p>
<p><span>Смотри также</span></p> 
<p><span><a href="/basis/operations/rules">Приоритеты и &nbsp;порядок операций</a></span></p>
<br>
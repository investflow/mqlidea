<h1>Инициализация переменных</h1> 
<p><span>Любая переменная при определении может быть инициализирована. Если не произведена явная инициализация переменной, то значение, хранящееся в данной переменной, может быть каким угодно. Неявная инициализация не производится.</span></p> 
<p><span><a href="/basis/variables/global">Глобальные</a> и <a href="/basis/variables/static">статические</a> переменные могут быть проинициализированы только константой соответствующего типа или константным выражением. <a href="/basis/variables/local">Локальные&nbsp;переменные</a> могут быть проинициализированы любым выражением, а не только константой.</span></p>
<p><span>Инициализация глобальных и статических переменных производится однократно. Инициализация локальных переменных производится каждый раз при вызове соответствующих функций.</span></p> 
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1;</span><br> <span style="color: #0000ff;">string</span><span>&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span><span style="color: #008080;">"hello"</span><span>;</span><br> <span style="color: #0000ff;">double</span><span>&nbsp;f[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{&nbsp;0.0,&nbsp;0.236,&nbsp;0.382,&nbsp;0.5,&nbsp;0.618,&nbsp;1.0&nbsp;};</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;a[4][4]&nbsp;=&nbsp;{&nbsp;{1,&nbsp;1,&nbsp;1,&nbsp;1},&nbsp;{2,&nbsp;2,&nbsp;2,&nbsp;2},&nbsp;{3,&nbsp;3,&nbsp;3,&nbsp;3},&nbsp;{4,&nbsp;4,&nbsp;4,&nbsp;4&nbsp;}&nbsp;};</span><br> <span style="color: #999999;">//---&nbsp;из&nbsp;тетриса</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;right[4]={WIDTH_IN_PIXELS+VERT_BORDER,WIDTH_IN_PIXELS+VERT_BORDER,</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WIDTH_IN_PIXELS+VERT_BORDER,WIDTH_IN_PIXELS+VERT_BORDER};</span><br> <span style="color: #999999;">//---&nbsp;инициализация&nbsp;всех&nbsp;полей&nbsp;структуры&nbsp;нулевым&nbsp;значением</span><br> <span style="color: #ff00ff;">MqlTradeRequest</span><span>&nbsp;request={0};</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Список значений элементов массива должен быть заключен в фигурные скобки. Пропущенные инициализирующие последовательности считаются равными 0. В инициализирующей последовательности должно быть хотя бы одно значение: этим значением инициализируется первый элемент соответствующей структуры или массива, отсутствующие элементы считаются равными нулю. </span></p> 
<p><span>Если размер инициализируемого массива не указан, то он определяется компилятором, исходя из размера инициализирующей последовательности. Многомерные массивы не могут инициализироваться одномерной последовательностью (последовательностью без дополнительных фигурных скобок), за исключением одного случая – когда указывается всего один инициализирующий элемент (как правило, ноль). </span></p> 
<p><span>Массивы (в том числе и объявленные на локальном уровне) могут инициализироваться только константами.</span></p> 
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">struct</span><span>&nbsp;str3</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low_part;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high_part;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #0000ff;">struct</span><span>&nbsp;str10</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;str3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s3;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d1[10];</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i3;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;str10&nbsp;s10_1={{1,0},{1.0,2.1,3.2,4.4,5.3,6.1,7.8,8.7,9.2,10.0},100};</span><br> <span>&nbsp;&nbsp;&nbsp;str10&nbsp;s10_2={{1,0},{0},100};</span><br> <span>&nbsp;&nbsp;&nbsp;str10&nbsp;s10_3={{1,0},{1.0}};</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"1.&nbsp;&nbsp;s10_1.d1[5]&nbsp;=&nbsp;"</span><span>,s10_1.d1[5]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"2.&nbsp;&nbsp;s10_2.d1[5]&nbsp;=&nbsp;"</span><span>,s10_2.d1[5]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"3.&nbsp;&nbsp;s10_3.d1[5]&nbsp;=&nbsp;"</span><span>,s10_3.d1[5]);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"4.&nbsp;&nbsp;s10_3.d1[0]&nbsp;=&nbsp;"</span><span>,s10_3.d1[0]);</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>&nbsp;</span><br> <span>Для переменных типа структур допускается частичная инициализация, это же относится и к статическим массивам (с явно заданным размером). Можно проинициализировать один или несколько первых элементов структуры или массива, оставшиеся элементы в таком случае будут проинициализированы нулями.</span></p> 
<p><span>Смотри также</span></p> 
<p><span><a href="/basis/types">Типы данных</a>, <a href="/basis/oop/incapsulation">Инкапсуляция и расширяемость типов</a>, <a href="/basis/variables/variable_scope">Область видимости и время жизни переменных</a>, <a href="/basis/variables/object_live">Создание и уничтожение объектов</a></span></p>
<br>
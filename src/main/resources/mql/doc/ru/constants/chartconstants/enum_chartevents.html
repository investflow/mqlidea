<h1>Типы событий графика</h1> 
<p><span>Существуют 9 видов событий, которые можно обрабатывать с помощью функции предопределенной функции <a href="/basis/function/events#onchartevent">OnChartEvent()</a>. Для пользовательских событий предусмотрено 65535 идентификаторов в диапазоне от CHARTEVENT_CUSTOM до CHARTEVENT_CUSTOM_LAST включительно. Для генерации пользовательского события необходимо использовать функцию <a href="/eventfunctions/eventchartcustom">EventChartCustom()</a>.</span></p>
<p><span style="font-weight: bold;">ENUM_CHART_EVENT</span></p> 
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Идентификатор</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Описание</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_KEYDOWN</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Нажатие клавиатуры</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_MOUSE_MOVE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Перемещение мыши и нажатие кнопок мыши (если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_MOUSE_MOVE</a>=true)</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CREATE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Создание <a href="/constants/objectconstants/enum_object">графического объекта</a> (если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_CREATE</a>=true)</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CHANGE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Изменение свойств <a href="/constants/objectconstants/enum_object">графического объекта</a> через диалог свойств</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_DELETE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Удаление <a href="/constants/objectconstants/enum_object">графического объекта</a> (если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_DELETE</a>=true)</span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CLICK</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Нажатие мышки на графике</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CLICK</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Нажатие мышки на <a href="/constants/objectconstants/enum_object">графическом объекте</a></span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_DRAG</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Перетаскивание <a href="/constants/objectconstants/enum_object">графического объекта</a></span></p> </td>
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_ENDEDIT</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Окончание редактирования текста в графическом объекте Edit</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CHART_CHANGE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Изменение размеров графика или изменение свойств графика через диалог свойств</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CUSTOM</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Начальный номер события из диапазона пользовательских событий</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CUSTOM_LAST</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Конечный номер события из диапазона пользовательских событий</span></p> </td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Для каждого типа события входные параметры функции OnChartEvent() имеют определенные значения, которые необходимы для обработки этого события. В таблице перечислены события и значения, которые передаются через параметры.</span></p> 
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span style="font-weight: bold;">Событие</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span style="font-weight: bold;">Значение параметра id</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span style="font-weight: bold;">Значение параметра lparam</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span style="font-weight: bold;">Значение параметра dparam</span></p> </td> 
    <td style="vertical-align:top; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span style="font-weight: bold;">Значение параметра &nbsp;sparam</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие нажатия клавиатуры</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_KEYDOWN</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>код нажатой клавиши</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Количество нажатий клавиши,сгенерированных за время её удержания в нажатом состоянии</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Строковое значение битовой маски, описывающее статус кнопок клавиатуры</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>События мыши </span><span>(если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_MOUSE_MOVE</a>=true)</span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_MOUSE_MOVE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>X координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Y координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Строковое значение битовой маски, описывающее статус кнопок мыши</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие создания графического объекта (если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_CREATE</a>=true)</span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CREATE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя созданного графического объекта</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие изменения свойств объекта через диалог свойств</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CHANGE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя измененного графического объекта</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие удаления графического объекта (если для графика установлено свойство <a href="/constants/chartconstants/enum_chart_property#enum_chart_property_integer">CHART_EVENT_OBJECT_DELETE</a>=true)</span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_DELETE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя удаленного графического объекта</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие щелчка мыши на графике</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CLICK</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>X координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Y координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие щелчка мыши на графическом объекте</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_CLICK</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>X координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Y координата</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя графического объекта, на котором произошло событие</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие перемещения графического объекта при помощи мыши</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_DRAG</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя перемещенного графического объекта</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие окончания редактирования текста в поле ввода графического объекта "Поле ввода"</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_OBJECT_ENDEDIT</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Имя графического объекта "Поле ввода", в котором завершилось редактирование текста</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Событие изменения размеров графика или изменения свойств графика через диалог свойств</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CHART_CHANGE</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>—</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Пользовательское событие с номером N</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>CHARTEVENT_CUSTOM+N</span></p> </td> 
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение, заданное функцией <a href="/eventfunctions/eventchartcustom">EventChartCustom()</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение, заданное функцией <a href="/eventfunctions/eventchartcustom">EventChartCustom()</a></span></p> </td>
    <td style="vertical-align:top; padding:5px; border:solid thin #b1c2d6;"><p><span>Значение, заданное функцией <a href="/eventfunctions/eventchartcustom">EventChartCustom()</a></span></p> </td>
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMPAD_5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_LEFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_UP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_RIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_DOWN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMLOCK_DOWN&nbsp;&nbsp;&nbsp;98</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMLOCK_LEFT&nbsp;&nbsp;100</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMLOCK_5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;101</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMLOCK_RIGHT&nbsp;102</span><br> <span style="color: #0000ff;">#define</span><span>&nbsp;KEY_NUMLOCK_UP&nbsp;&nbsp;&nbsp;&nbsp;104</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;</span><span style="color: #0000ff;">OnInit</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Запущен&nbsp;эксперт&nbsp;с&nbsp;именем&nbsp;"</span><span>,</span><span style="color: #0000ff;">MQLInfoString</span><span>(</span><span style="color: #0000ff;">MQL_PROGRAM_NAME</span><span>));</span><br> <span style="color: #808080;">//---&nbsp;установка&nbsp;флага&nbsp;получения&nbsp;событий&nbsp;создания&nbsp;объектов&nbsp;графика</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartSetInteger</span><span>(</span><span style="color: #0000ff;">ChartID</span><span>(),</span><span style="color: #0000ff;">CHART_EVENT_OBJECT_CREATE</span><span>,</span><span style="color: #0000ff;">true</span><span>);</span><br> <span style="color: #808080;">//---&nbsp;установка&nbsp;флага&nbsp;получения&nbsp;событий&nbsp;удаления&nbsp;объектов&nbsp;графика</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartSetInteger</span><span>(</span><span style="color: #0000ff;">ChartID</span><span>(),</span><span style="color: #0000ff;">CHART_EVENT_OBJECT_DELETE</span><span>,</span><span style="color: #0000ff;">true</span><span>);</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(</span><span style="color: #0000ff;">INIT_SUCCEEDED</span><span>);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;ChartEvent&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnChartEvent</span><span>(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;id,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;идентификатор&nbsp;события&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">long</span><span>&amp;&nbsp;lparam,&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;параметр&nbsp;события&nbsp;типа&nbsp;long</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">double</span><span>&amp;&nbsp;dparam,&nbsp;</span><span style="color: #808080;">//&nbsp;параметр&nbsp;события&nbsp;типа&nbsp;double</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&amp;&nbsp;sparam)&nbsp;</span><span style="color: #808080;">//&nbsp;параметр&nbsp;события&nbsp;типа&nbsp;string</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---&nbsp;нажатие&nbsp;левой&nbsp;кнопкой&nbsp;мышки&nbsp;на&nbsp;графике</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_CLICK</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Координаты&nbsp;щелчка&nbsp;мышки&nbsp;на&nbsp;графике:&nbsp;x&nbsp;=&nbsp;"</span><span>,lparam,</span><span style="color: #008080;">"&nbsp;&nbsp;y&nbsp;=&nbsp;"</span><span>,dparam);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;нажатие&nbsp;мышкой&nbsp;на&nbsp;графическом&nbsp;объекте</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_OBJECT_CLICK</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажатие&nbsp;кнопки&nbsp;мышки&nbsp;на&nbsp;объекте&nbsp;с&nbsp;именем&nbsp;'"</span><span>+sparam+</span><span style="color: #008080;">"'"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;нажатие&nbsp;кнопки&nbsp;на&nbsp;клавиатуре</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_KEYDOWN</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">switch</span><span>(</span><span style="color: #0000ff;">int(</span><span>lparam))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMLOCK_LEFT:&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMLOCK_LEFT"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_LEFT:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_LEFT"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMLOCK_UP:&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMLOCK_UP"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_UP:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_UP"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMLOCK_RIGHT:&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMLOCK_RIGHT"</span><span>);&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_RIGHT:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_RIGHT"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMLOCK_DOWN:&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMLOCK_DOWN"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_DOWN:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_DOWN"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMPAD_5:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMPAD_5"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">case</span><span>&nbsp;KEY_NUMLOCK_5:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;KEY_NUMLOCK_5"</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">default</span><span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Нажата&nbsp;какая-то&nbsp;неперечисленная&nbsp;клавиша"</span><span>);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartRedraw</span><span>();</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;удален&nbsp;объект</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_OBJECT_DELETE</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Удален&nbsp;объект&nbsp;с&nbsp;именем&nbsp;"</span><span>,sparam);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;создан&nbsp;объект</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_OBJECT_CREATE</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Создан&nbsp;объект&nbsp;с&nbsp;именем&nbsp;"</span><span>,sparam);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;перемещен&nbsp;объект&nbsp;или&nbsp;изменены&nbsp;координаты&nbsp;точек&nbsp;привязки</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_OBJECT_DRAG</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Изменение&nbsp;точек&nbsp;привязки&nbsp;объекта&nbsp;с&nbsp;именем&nbsp;"</span><span>,sparam);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;изменен&nbsp;текст&nbsp;в&nbsp;поле&nbsp;ввода&nbsp;графического&nbsp;объекта&nbsp;Edit</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_OBJECT_ENDEDIT</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Изменен&nbsp;текст&nbsp;в&nbsp;объекте&nbsp;Edit&nbsp;"</span><span>,sparam);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Для события CHARTEVENT_MOUSE_MOVE строковой параметр sparam содержит число, представляющее информацию о состоянии клавиш:</span></p> 
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 8px 17px 7px 17px;"> 
 <table cellpadding="5" border="1" style="border:solid 2px #b1c2d6; border-spacing:0px; border-collapse:collapse;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; width:70px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Бит</span></p> </td> 
    <td style="vertical-align:top; width:1384px; background-color:#dbe9f9; padding:5px; border:solid thin #b1c2d6;"><p><span>Описание</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>1</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние левой клавиши мыши</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>2</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние правой клавиши мыши</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>3</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние клавиши SHIFT</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>4</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние клавиши CTRL</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>5</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние средней клавиши мыши</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>6</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние первой дополнительной клавиши мыши</span></p> </td> 
   </tr> 
   <tr>
    <td style="vertical-align:top; width:70px; padding:5px; border:solid thin #b1c2d6;"><p style="text-align: center;"><span>7</span></p> </td> 
    <td style="vertical-align:top; width:1384px; padding:5px; border:solid thin #b1c2d6;"><p><span>Состояние второй дополнительной клавиши мыши</span></p> </td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr>
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnInit</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---&nbsp;включение&nbsp;сообщений&nbsp;о&nbsp;перемещении&nbsp;мыши&nbsp;по&nbsp;окну&nbsp;чарта</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">ChartSetInteger</span><span>(0,</span><span style="color: #0000ff;">CHART_EVENT_MOUSE_MOVE</span><span>,1);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;MouseState&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">string</span><span>&nbsp;MouseState(</span><span style="color: #0000ff;">uint</span><span>&nbsp;state)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;res;</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nML:&nbsp;"</span><span>&nbsp;&nbsp;&nbsp;+(((state&amp;&nbsp;1)==&nbsp;1)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;mouse&nbsp;left</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nMR:&nbsp;"</span><span>&nbsp;&nbsp;&nbsp;+(((state&amp;&nbsp;2)==&nbsp;2)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;mouse&nbsp;right&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nMM:&nbsp;"</span><span>&nbsp;&nbsp;&nbsp;+(((state&amp;16)==16)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;mouse&nbsp;middle</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nMX:&nbsp;"</span><span>&nbsp;&nbsp;&nbsp;+(((state&amp;32)==32)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;mouse&nbsp;first&nbsp;X&nbsp;key</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nMY:&nbsp;"</span><span>&nbsp;&nbsp;&nbsp;+(((state&amp;64)==64)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;mouse&nbsp;second&nbsp;X&nbsp;key</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nSHIFT:&nbsp;"</span><span>+(((state&amp;&nbsp;4)==&nbsp;4)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;shift&nbsp;key</span><br> <span>&nbsp;&nbsp;&nbsp;res+=</span><span style="color: #008080;">"\nCTRL:&nbsp;"</span><span>&nbsp;+(((state&amp;&nbsp;8)==&nbsp;8)?</span><span style="color: #008080;">"DN"</span><span>:</span><span style="color: #008080;">"UP"</span><span>);&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;control&nbsp;key</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(res);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;ChartEvent&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnChartEvent</span><span>(</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;id,</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;&amp;lparam,</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;&amp;dparam,</span><span style="color: #0000ff;">const</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;&amp;sparam)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(id==</span><span style="color: #0000ff;">CHARTEVENT_MOUSE_MOVE</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Comment</span><span>(</span><span style="color: #008080;">"POINT:&nbsp;"</span><span>,(</span><span style="color: #0000ff;">int</span><span>)lparam,</span><span style="color: #008080;">","</span><span>,(</span><span style="color: #0000ff;">int</span><span>)dparam,</span><span style="color: #008080;">"\n"</span><span>,MouseState((</span><span style="color: #0000ff;">uint</span><span>)sparam));</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Смотри также</span></p> 
<p><span><a href="/basis/function/events">Функции обработки событий</a>, <a href="/eventfunctions">Работа с событиями</a></span></p>
<br>
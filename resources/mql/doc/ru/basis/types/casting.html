<h1>Приведение типов</h1> 
<h3>Преобразование числовых типов</h3> 
<p><span>Часто возникает необходимость преобразовать один числовой тип в другой. Не каждый числовой тип допустимо преобразовать в другой, допустимые преобразования в MQL4 показаны на схеме:</span></p> 
<p style="text-align: center;"><img alt="Схема допустимых преобразований типов" title="Схема допустимых преобразований типов" width="360" height="180" style="margin:0px auto 0px auto;width:360px;height:180px;border:none" src="https://c.mql4.com/i/docs/ru/casting.png"></p> 
<p><span>Сплошные линии со стрелками обозначают преобразования, которые выполняются без потери информации. Вместо типа char может выступать тип <a href="/basis/types/integer/boolconst">bool</a> (оба занимают в памяти 1 байт), вместо типа int можно использовать тип <a href="/basis/types/integer/color">color</a> (по 4 байта), а вместо типа long допустим тип <a href="/basis/types/integer/datetime">datetime</a> (занимают по 8 байт). Четыре штриховые линии серого цвета, также со стрелками, означают преобразования, при которых может произойти потеря точности. Например, количество цифр в целом числе 123456789 (<a href="/basis/types/integer/integertypes#int">int</a>) превышает количество цифр, которое может быть представлено типом <a href="/basis/types/double">float</a>. </span></p>
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;n=</span><span style="color: #008080;">123456789</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">float</span><span>&nbsp;f=n;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;содержимое&nbsp;f&nbsp;равно&nbsp;1.234567892E8</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"n&nbsp;=&nbsp;"</span><span>,n,</span><span style="color: #008000;">"&nbsp;&nbsp;&nbsp;f&nbsp;=&nbsp;"</span><span>,f);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;результат&nbsp;n=&nbsp;123456789&nbsp;&nbsp;&nbsp;&nbsp;f=&nbsp;123456792.00000</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Число, преобразованное в тип float, имеет тот же порядок, но несколько меньшую точность. Преобразования, обратные черным стрелкам, осуществляется с возможной потерей информацией. Преобразования между char и uchar, short и ushort, int и uint, long и ulong (имеются ввиду преобразования в обе стороны), могут привести к потере информации.</span></p> 
<p><span>В результате преобразования значения с плавающей точкой к целому типу дробная часть числа всегда отбрасывается. Если нужно округлить число с плавающей точкой до ближайшего целого числа (что во многих случаях является более полезным), необходимо использовать функцию <a href="/math/mathround">MathRound()</a>.</span></p>
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//---&nbsp;ускорение&nbsp;свободного&nbsp;падения</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;g=</span><span style="color: #008080;">9</span><span>.</span><span style="color: #008080;">8</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;round_g=(</span><span style="color: #0000ff;">int</span><span>)g;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;math_round_g=</span><span style="color: #0000ff;">MathRound</span><span>(g);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"round_g&nbsp;=&nbsp;"</span><span>,round_g);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"math_round_g&nbsp;="</span><span>,math_round_g);</span><br> <span style="color: #808080;">/*</span><br> <span style="color: #808080;">&nbsp;&nbsp;&nbsp;Результат:</span><br> <span style="color: #808080;">&nbsp;&nbsp;&nbsp;round_g&nbsp;=&nbsp;9</span><br> <span style="color: #808080;">&nbsp;&nbsp;&nbsp;math_round_g&nbsp;=&nbsp;10</span><br> <span style="color: #808080;">*/</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Если два значения объединяются бинарным оператором, то перед выполнением операции операнд младшего типа преобразовывается к более старшему типу в соответствии с приоритетом, указанным на схеме:</span></p> 
<p style="text-align: center;"><img alt="Преобразования при объединении бинарной операцией" title="Преобразования при объединении бинарной операцией" width="362" height="70" style="margin:0px auto 0px auto;width:362px;height:70px;border:none" src="https://c.mql4.com/i/docs/ru/casting5.png"></p> 
<p><span>Типы данных char, uchar, short и ushort в операциях безусловно приводятся к типу int.</span></p> 
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;&nbsp;&nbsp;c1=</span><span style="color: #008080;">3</span><span>;</span><br> <span style="color: #808080;">//---&nbsp;первый&nbsp;пример</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;d2=c1/</span><span style="color: #008080;">2</span><span>+</span><span style="color: #008080;">0</span><span>.</span><span style="color: #008080;">3</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"c1/2+0.3&nbsp;=&nbsp;"</span><span>,d2);</span><br> <span style="color: #808080;">//&nbsp;Результат:&nbsp;&nbsp;&nbsp;c1/2+0.3&nbsp;=&nbsp;1.3</span><br> <span>&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;второй&nbsp;пример</span><br> <span>&nbsp;&nbsp;&nbsp;d2=c1/</span><span style="color: #008080;">2</span><span>.</span><span style="color: #008080;">0</span><span>+</span><span style="color: #008080;">0</span><span>.</span><span style="color: #008080;">3</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"c1/2.0+0.3&nbsp;=&nbsp;"</span><span>,d2);</span><br> <span style="color: #808080;">//&nbsp;Результат:&nbsp;&nbsp;&nbsp;c1/2.0+0.3&nbsp;=&nbsp;1.8</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Вычисляемое выражение состоит из двух операций. В первом примере переменная c1 типа char преобразуется ко временной переменной типа int, так как второй операнд в операции деления, константа 2, имеет более старший тип int. В результате целочисленного деления 3/2 получается значение 1, которое имеет тип int.</span></p> 
<p><span>Во второй операции первого примера вторым операндом выступает константа 0.3, которая имеет тип double, поэтому результат первой операции преобразуется во временную переменную типа double со значением 1.0.</span></p> 
<p><span>Во втором примере переменная c1 типа char преобразуется ко временной переменной типа double, так как второй операнд в операции деления, константа 2.0, имеет тип double; дальнейших преобразований не производится. </span></p> 
<p><span>&nbsp;</span></p> 
<h3>Приведение числовых типов</h3> 
<p><span>В выражениях языка MQL4 можно использовать как явное, так и неявное приведение типов. Явное преобразование типов записывается следующим образом:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>var_1&nbsp;=&nbsp;(тип)var_2;</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>В качестве переменной var_2 может быть выражение или результат выполнения функции. Допускается также функциональная запись явного приведения типов:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>var_1&nbsp;=&nbsp;тип(var_2);</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Рассмотрим явное преобразование на основании первого примера.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #808080;">//---&nbsp;третий&nbsp;пример</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;d2=(</span><span style="color: #0000ff;">double</span><span>)c1/</span><span style="color: #008080;">2</span><span>+</span><span style="color: #008080;">0</span><span>.</span><span style="color: #008080;">3</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"(double)c1/2+0.3&nbsp;=&nbsp;"</span><span>,d2);</span><br> <span style="color: #808080;">//&nbsp;Результат:&nbsp;&nbsp;&nbsp;(double)c1/2+0.3&nbsp;=&nbsp;1.80000000</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Перед выполнением операции деления переменная c1 явно приводится к типу double. Теперь уже целочисленная константа 2 приводится к значению 2.0 типа double, так как в результате преобразования первый операнд получил тип double. Фактически, явное преобразование типов является одноместной операцией.</span></p> 
<p><span>Кроме того, при попытке приведения типов результат может выйти за пределы допустимого диапазона. В этом случае произойдет усечение. Например:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span>&nbsp;c;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uchar</span><span>&nbsp;u;</span><br> <span>&nbsp;&nbsp;&nbsp;c=</span><span style="color: #008080;">400</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;u=</span><span style="color: #008080;">400</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"c&nbsp;=&nbsp;"</span><span>,c);&nbsp;</span><span style="color: #808080;">//&nbsp;результат&nbsp;с=-112</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008000;">"u&nbsp;=&nbsp;"</span><span>,u);&nbsp;</span><span style="color: #808080;">//&nbsp;результат&nbsp;u=144</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Перед выполнением операций (кроме операций присваивания) происходит преобразование в тип, имеющий наибольший приоритет, а перед операциями присваивания - в целевой тип.</span></p> 
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;i=1/2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;приведения&nbsp;типов&nbsp;нет,&nbsp;результат:&nbsp;0</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"i&nbsp;=&nbsp;1/2&nbsp;&nbsp;"</span><span>,i);</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;k=1/2.0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;выражение&nbsp;приводится&nbsp;к&nbsp;типу&nbsp;double,</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"k&nbsp;=&nbsp;1/2&nbsp;&nbsp;"</span><span>,k);&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;затем&nbsp;приводится&nbsp;к&nbsp;целевому&nbsp;типу&nbsp;int,&nbsp;результат:&nbsp;0</span><br> <span style="color: #808080;">&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;d=1.0/2.0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;приведения&nbsp;типов&nbsp;нет,&nbsp;результат:&nbsp;0.5</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"d&nbsp;=&nbsp;1/2.0;&nbsp;"</span><span>,d);</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;e=1/2.0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;выражение&nbsp;приводится&nbsp;к&nbsp;типу&nbsp;double,&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"e&nbsp;=&nbsp;1/2.0;&nbsp;"</span><span>,e);</span><span style="color: #808080;">//&nbsp;который&nbsp;совпадает&nbsp;с&nbsp;целевым&nbsp;типом,&nbsp;результат:&nbsp;0.5</span><br> <span style="color: #808080;">&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;x=1/2;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;выражение&nbsp;типа&nbsp;int&nbsp;приводится&nbsp;к&nbsp;целевому&nbsp;типу&nbsp;double,</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"x&nbsp;=&nbsp;1/2;&nbsp;"</span><span>,x);&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;результат:&nbsp;0.0</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>При преобразовании типа long/ulong в double может произойти потеря точности: если целое больше 9223372036854774784 или меньше -9223372036854774784.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;l_max=</span><span style="color: #0000ff;">LONG_MAX</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;l_min=</span><span style="color: #0000ff;">LONG_MIN</span><span>+1;</span><br> <span style="color: #808080;">//---&nbsp;найдем&nbsp;максимальное&nbsp;целое,&nbsp;которое&nbsp;не&nbsp;теряет&nbsp;точности&nbsp;при&nbsp;приведении&nbsp;к&nbsp;double</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span>(l_max!=</span><span style="color: #0000ff;">long</span><span>((</span><span style="color: #0000ff;">double</span><span>)l_max))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_max--;</span><br> <span style="color: #808080;">//---&nbsp;найдем&nbsp;минимальное&nbsp;целое,&nbsp;которое&nbsp;не&nbsp;теряет&nbsp;точности&nbsp;при&nbsp;приведении&nbsp;к&nbsp;double</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span>(l_min!=</span><span style="color: #0000ff;">long</span><span>((</span><span style="color: #0000ff;">double</span><span>)l_min))</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_min++;</span><br> <span style="color: #808080;">//---&nbsp;теперь&nbsp;выведем&nbsp;найденный&nbsp;интервал&nbsp;для&nbsp;целых&nbsp;чисел&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">PrintFormat</span><span>(</span><span style="color: #008080;">"При&nbsp;приведении&nbsp;целого&nbsp;числа&nbsp;к&nbsp;double&nbsp;оно&nbsp;должно&nbsp;"</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008080;">"быть&nbsp;в&nbsp;интервале&nbsp;[%I64d,&nbsp;%I64d]"</span><span>,l_min,l_max);</span><br> <span style="color: #808080;">//---&nbsp;теперь&nbsp;посмотрим,&nbsp;что&nbsp;произойдет,&nbsp;если&nbsp;число&nbsp;выходит&nbsp;за&nbsp;этот&nbsp;интервал</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">PrintFormat</span><span>(</span><span style="color: #008080;">"l_max+1=%I64d,&nbsp;double(l_max+1)=%.f,&nbsp;ulong(double(l_max+1))=%I64d"</span><span>,</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_max+1,</span><span style="color: #0000ff;">double</span><span>(l_max+1),</span><span style="color: #0000ff;">long</span><span>(</span><span style="color: #0000ff;">double</span><span>(l_max+1)));</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">PrintFormat</span><span>(</span><span style="color: #008080;">"l_min-1=%I64d,&nbsp;double(l_min-1)=%.f,&nbsp;ulong(double(l_min-1))=%I64d"</span><span>,</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l_min-1,</span><span style="color: #0000ff;">double</span><span>(l_min-1),</span><span style="color: #0000ff;">long</span><span>(</span><span style="color: #0000ff;">double</span><span>(l_min-1)));</span><br> <span style="color: #808080;">//---&nbsp;получим&nbsp;такой&nbsp;вывод</span><br> <span style="color: #808080;">//&nbsp;При&nbsp;приведении&nbsp;целого&nbsp;числа&nbsp;к&nbsp;double&nbsp;оно&nbsp;должно&nbsp;быть&nbsp;в&nbsp;интервале&nbsp;[-9223372036854774784,&nbsp;9223372036854774784]</span><br> <span style="color: #808080;">//&nbsp;l_max+1=9223372036854774785,&nbsp;double(l_max+1)=9223372036854774800,&nbsp;ulong(double(l_max+1))=9223372036854774784</span><br> <span style="color: #808080;">//&nbsp;l_min-1=-9223372036854774785,&nbsp;double(l_min-1)=-9223372036854774800,&nbsp;ulong(double(l_min-1))=-9223372036854774784</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>&nbsp;</h3> 
<h3>Приведения для типа string</h3> 
<p><span>Тип string имеет самый высокий приоритет среди простых типов. Поэтому, если в операции один из операндов имеет тип string, то другой операнд будет приведен к типу string автоматически. Следует иметь ввиду, что для типа string допустима единственная двуместная операция сложения. Допустимо явное приведение переменной типа string к любому числовому типу.</span></p> 
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;s1=1.0/8;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;выражение&nbsp;приводится&nbsp;к&nbsp;типу&nbsp;double,&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"s1&nbsp;=&nbsp;1.0/8;&nbsp;"</span><span>,s1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;затем&nbsp;к&nbsp;целевому&nbsp;типу&nbsp;string,&nbsp;</span><br> <span style="color: #808080;">//&nbsp;результат:"0.12500000"(строка,&nbsp;содержащая&nbsp;10&nbsp;символов)</span><br> <span style="color: #808080;">&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;s2=</span><span style="color: #0000ff;">NULL</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;деинициализация&nbsp;строки</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"s2&nbsp;=&nbsp;NULL;&nbsp;"</span><span>,s2);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;результат:&nbsp;пустая&nbsp;строка</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;s3=</span><span style="color: #008080;">"Ticket&nbsp;N"</span><span>+12345;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;выражение&nbsp;приводится&nbsp;к&nbsp;типу&nbsp;string&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"s&nbsp;=&nbsp;\"</span><span>Ticket&nbsp;N\</span><span style="color: #008080;">"+12345&nbsp;"</span><span>,s3);</span><br> <span>&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;str1=</span><span style="color: #008080;">"true"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;str2=</span><span style="color: #008080;">"0,255,0"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;str3=</span><span style="color: #008080;">"2009.06.01"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;str4=</span><span style="color: #008080;">"1.2345e2"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">bool</span><span>(str1));</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">color</span><span>(str2));</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">datetime</span><span>(str3));</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">double</span><span>(str4));</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>&nbsp;</h3> 
<h3><a id="casting_structure"></a>Приведение данных типа простых структур</h3> 
<p><span>Данные типа <a href="/basis/types/classes#simple_structure">простых&nbsp;структур</a> можно присваивать друг другу только в том случае, если все члены обеих структур имеют числовые типы. При этом в <a href="/basis/operations/assign">операции&nbsp;присваивания</a> оба операнда, и слева и справа, должны быть типа структур. Как такового почленного приведения не производится, производится простое копирование. Если размеры структур отличаются, то копируется количество байт, соответствующее меньшему размеру. Таким образом компенсируется отсутствие объединений (union) в языке MQL4.</span></p>
<p><span style="font-weight: bold;">Примеры:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">struct</span><span>&nbsp;str1</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">double</span><span>&nbsp;&nbsp;d;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #808080;">//---</span><br> <span style="color: #0000ff;">struct</span><span>&nbsp;str2</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span>&nbsp;&nbsp;&nbsp;&nbsp;l;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #808080;">//---</span><br> <span style="color: #0000ff;">struct</span><span>&nbsp;str3</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low_part;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;high_part;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;str1&nbsp;s1;</span><br> <span>&nbsp;&nbsp;&nbsp;str2&nbsp;s2;</span><br> <span>&nbsp;&nbsp;&nbsp;str3&nbsp;s3;</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;s1.d=</span><span style="color: #0000ff;">MathArcsin</span><span>(2.0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;получим&nbsp;недействительное&nbsp;число&nbsp;-1.#IND</span><br> <span>&nbsp;&nbsp;&nbsp;s2=s1;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">printf</span><span>(</span><span style="color: #008080;">"1.&nbsp;&nbsp;%f&nbsp;&nbsp;&nbsp;&nbsp;%I64X"</span><span>,s1.d,s2.l);</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;s3=s2;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">printf</span><span>(</span><span style="color: #008080;">"2.&nbsp;&nbsp;high&nbsp;part&nbsp;of&nbsp;long&nbsp;%.8X&nbsp;&nbsp;&nbsp;low&nbsp;part&nbsp;of&nbsp;long&nbsp;%.8X"</span><span>,</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s3.high_part,s3.low_part);</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Еще один пример показывает, как можно организовать собственную функцию для получения из типа <a href="/basis/types/integer/color">color</a> представления цвета в RGB (Red,Green,Blue). Для этого создаем две структуры, имеющие одинаковый размер, но разный внутренний состав. Для удобства, добавим в структуру функцию, возвращающую цвет в представлении RGB в виде строки.</span></p>
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">script_show_inputs</span><br> <span style="color: #0000ff;">input</span><span>&nbsp;</span><span style="color: #0000ff;">color</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testColor=</span><span style="color: #0000ff;">clrBlue</span><span>;</span><span style="color: #808080;">//&nbsp;задайте&nbsp;цвет&nbsp;для&nbsp;тестирования</span><br> <span style="color: #808080;">//---&nbsp;структура&nbsp;для&nbsp;представления&nbsp;цвета&nbsp;в&nbsp;RGB</span><br> <span style="color: #0000ff;">struct</span><span>&nbsp;RGB</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uchar</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">blue</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;синяя&nbsp;составляющая&nbsp;цвета</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uchar</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">green</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;зеленая&nbsp;составляющая&nbsp;цвета</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uchar</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">red</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;красная&nbsp;составляющая&nbsp;цвета</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">uchar</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;этот&nbsp;байт&nbsp;не&nbsp;используется</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toString();&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;функция&nbsp;для&nbsp;получения&nbsp;в&nbsp;виде&nbsp;строки</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #808080;">//---&nbsp;функция&nbsp;для&nbsp;вывода&nbsp;цвета&nbsp;в&nbsp;виде&nbsp;строки</span><br> <span style="color: #0000ff;">string</span><span>&nbsp;RGB::toString(</span><span style="color: #0000ff;">void</span><span>)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;out=</span><span style="color: #008080;">"("</span><span>+(</span><span style="color: #0000ff;">string</span><span>)</span><span style="color: #0000ff;">red</span><span>+</span><span style="color: #008080;">":"</span><span>+(</span><span style="color: #0000ff;">string</span><span>)</span><span style="color: #0000ff;">green</span><span>+</span><span style="color: #008080;">":"</span><span>+(</span><span style="color: #0000ff;">string</span><span>)</span><span style="color: #0000ff;">blue</span><span>+</span><span style="color: #008080;">")"</span><span>;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>&nbsp;out;</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---&nbsp;структура&nbsp;для&nbsp;хранения&nbsp;встроенного&nbsp;типа&nbsp;color&nbsp;</span><br> <span style="color: #0000ff;">struct</span><span>&nbsp;builtColor</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">color</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c;</span><br> <span>&nbsp;&nbsp;};</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---&nbsp;переменная&nbsp;для&nbsp;хранения&nbsp;в&nbsp;RGB</span><br> <span>&nbsp;&nbsp;&nbsp;RGB&nbsp;colorRGB;</span><br> <span style="color: #808080;">//---&nbsp;переменная&nbsp;для&nbsp;хранения&nbsp;типа&nbsp;color</span><br> <span>&nbsp;&nbsp;&nbsp;builtColor&nbsp;test;</span><br> <span>&nbsp;&nbsp;&nbsp;test.c=testColor;</span><br> <span style="color: #808080;">//---&nbsp;приведение&nbsp;двух&nbsp;структур&nbsp;путем&nbsp;копирования&nbsp;содержимого</span><br> <span>&nbsp;&nbsp;&nbsp;colorRGB=test;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"color&nbsp;"</span><span>,test.c,</span><span style="color: #008080;">"&nbsp;=&nbsp;"</span><span>,colorRGB.toString());</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<h3>Приведение типов указателей базовых классов к указателям производных классов</h3> 
<p><span>Объекты <a href="/basis/oop/inheritance#public_inheritance">открыто&nbsp;порожденного</a> класса могут также рассматриваться как объекты соответствующего ему базового класса. Это ведет к некоторым интересным следствиям. Например, вопреки тому факту, что объекты различных классов, порожденных одним базовым классом, могут существенно отличаться друг от друга, мы можем создать их связанный список (List), поскольку мы рассматриваем их как объекты базового типа. Но обратное неверно: объекты базового класса не являются автоматически объектами производного класса.</span></p>
<p><span>Можно использовать явное приведение типов для преобразования указателей базового класса в <a href="/basis/types/object_pointers">указатели</a> производного класса. Но необходимо быть полностью уверенным в допустимости такого преобразования, так как в противном случае возникнет критическая ошибка времени выполнения и mql4-программа будет остановлена.</span></p>
<h3><a id="dynamic_cast"></a>Динамическое приведение типов &nbsp;с помощью оператора dynamic_cast</h3> 
<p><span>Существует возможность динамического приведения типов с помощью оператора dynamic_cast, который может быть применён только к указателям классов. При этом проверка корректности типов производится в момент выполнения программы. Это означает, что при использовании оператора dynamic_cast компилятор не производит проверку типа данных, используемого для приведения. В случае, если осуществляется преобразование указателя к типу данных, который не является фактическим типом объекта, результатом &nbsp;будет &nbsp;значение <a href="/basis/types/void">NULL</a>.</span></p>
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">dynamic_cast</span><span>&nbsp;&lt;type-id&gt;&nbsp;(&nbsp;expression&nbsp;)</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Параметр </span><span style="font-style: italic;">type-id </span><span>в угловых скобках должен быть указателем на ранее определённый тип класса. Тип операнда </span><span style="font-style: italic;">expression</span><span> (в отличии от C++) может быть любым, кроме <a href="/basis/types/void">void</a>.</span></p>
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">class</span><span>&nbsp;CBar&nbsp;{&nbsp;};</span><br> <span style="color: #0000ff;">class</span><span>&nbsp;CFoo&nbsp;:&nbsp;</span><span style="color: #0000ff;">public</span><span>&nbsp;CBar&nbsp;{&nbsp;};</span><br> <span>&nbsp;</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;CBar&nbsp;bar;&nbsp;&nbsp;&nbsp;&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;динамическое&nbsp;приведение&nbsp;типа&nbsp;указателя&nbsp;*bar&nbsp;к&nbsp;указателю&nbsp;*foo&nbsp;разрешено&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;CFoo&nbsp;*foo&nbsp;=&nbsp;</span><span style="color: #0000ff;">dynamic_cast</span><span>&lt;CFoo&nbsp;*&gt;(&amp;bar);&nbsp;</span><span style="color: #808080;">//&nbsp;критической&nbsp;ошибки&nbsp;выполнения&nbsp;не&nbsp;возникнет&nbsp;&nbsp;&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(foo);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;foo=NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br> <span style="color: #808080;">//---&nbsp;попытка&nbsp;явного&nbsp;приведения&nbsp;ссылки&nbsp;объекта&nbsp;типа&nbsp;Bar&nbsp;к&nbsp;объекту&nbsp;типа&nbsp;Foo&nbsp;запрещено</span><br> <span>&nbsp;&nbsp;&nbsp;foo=(CFoo&nbsp;*)&amp;bar;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;возникнет&nbsp;критическая&nbsp;ошибка&nbsp;выполнения</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(foo);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//&nbsp;эта&nbsp;строка&nbsp;не&nbsp;будет&nbsp;выполнена</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>&nbsp;</span></p> 
<p><span>Смотри также</span></p> 
<p><span><a href="/basis/types">Типы данных</a></span></p>
<br>
<h1>ChartWindowFind</h1> 
<p><span>Возвращает номер подокна, в котором находится индикатор. Существует 2 варианта функции.</span></p> 
<p><span>1. Функция ищет на указанном графике подокно с указанным "коротким именем" индикатора (короткое имя выводится слева вверху подокна) и в случае удачи возвращает номер подокна.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>int&nbsp;&nbsp;</span><span>ChartWindowFind</span><span>(</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>long</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>chart_id</span><span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;идентификатор&nbsp;графика</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span>string</span><span>&nbsp;&nbsp;&nbsp;</span><span>indicator_shortname</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>//&nbsp;короткое&nbsp;имя&nbsp;индикатора,&nbsp;см&nbsp;<a href="/ru/constants/indicatorconstants/customindicatorproperties#enum_customind_property_string">INDICATOR_SHORTNAME</a></span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>2. Функция должна вызываться из пользовательского индикатора и возвращает номер подокна, в котором этот индикатор работает.</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span>int&nbsp;&nbsp;</span><span>ChartWindowFind</span><span>();</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Параметры</span></p> 
<p><span>chart_id</span></p> 
<p><span>[in] &nbsp;Идентификатор графика. 0 означает текущий график.</span></p> 
<p><span>indicator_shortname</span></p> 
<p><span>[in] &nbsp;Короткое имя индикатора.</span></p> 
<p><span>Возвращаемое значение</span></p> 
<p><span>Номер подокна в случае удачи. Ноль означает главное окно графика. В случае неудачи возвращает -1.</span></p> 
<p><span>Примечание</span></p> 
<p><span>Если вызывается второй вариант функции (без параметров) из скрипта или эксперта, то она возвращает -1.</span></p> 
<p><span>Не следует путать короткое имя индикатора и имя файла, которое указывается при создании индикатора функцией <a href="/ru/indicators/icustom">iCustom()</a>. Если короткое наименование индикатора не задается явным образом, то при компиляции в нем указывается имя файла с исходным кодом индикатора. </span></p> 
<p><span>Необходимо правильно формировать короткое имя индикатора, которое с помощью функции </span><span><a href="/ru/customind/indicatorsetstring">IndicatorSetString()</a> записывается в свойство <a href="/ru/constants/indicatorconstants/customindicatorproperties#enum_customind_property_string">INDICATOR_SHORTNAME</a>. Мы рекомендуем, чтобы короткое имя содержало значения входных параметров индикатора, так как идентификация удаляемого с графика индикатора в функции <a href="/ru/chart_operations/chartindicatordelete">ChartIndicatorDelete()</a> производится именно по короткому имени.</span></p> 
<p><span style="font-weight: bold;">Пример:</span></p> 
<div style="text-align: left; text-indent: 0px; page-break-inside: avoid; border-color: #d8dfea; border-style: solid; border-width: thin; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;"> 
 <table cellpadding="3" style="border:none; border-spacing:0px;"> 
  <tbody> 
   <tr style="text-align:left;vertical-align:top;"> 
    <td style="vertical-align:top; padding:3px;"><p><span style="color: #0000ff;">#property</span><span>&nbsp;</span><span style="color: #0000ff;">script_show_inputs</span><br> <span style="color: #808080;">//---&nbsp;input&nbsp;parameters</span><br> <span style="color: #0000ff;">input</span><span>&nbsp;</span><span style="color: #0000ff;">string</span><span>&nbsp;&nbsp;&nbsp;shortName=</span><span style="color: #008080;">"MACD(12,26,9)"</span><span>;</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Сообщает&nbsp;номер&nbsp;окна&nbsp;графика&nbsp;с&nbsp;указанным&nbsp;индикатором&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">int</span><span>&nbsp;GetIndicatorSubWindowNumber(</span><span style="color: #0000ff;">long</span><span>&nbsp;</span><span style="color: #0000ff;">chartID</span><span>=0,</span><span style="color: #0000ff;">string</span><span>&nbsp;short_name=</span><span style="color: #008080;">""</span><span>)</span><br> <span>&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;window=-1;</span><br> <span style="color: #808080;">//---&nbsp;</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>((</span><span style="color: #0000ff;">ENUM_PROGRAM_TYPE</span><span>)</span><span style="color: #0000ff;">MQLInfoInteger</span><span>(</span><span style="color: #0000ff;">MQL_PROGRAM_TYPE</span><span>)==</span><span style="color: #0000ff;">PROGRAM_INDICATOR</span><span>)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;функция&nbsp;вызвана&nbsp;из&nbsp;индикатора,имя&nbsp;не&nbsp;требуется</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window=</span><span style="color: #0000ff;">ChartWindowFind</span><span>();</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #808080;">//---&nbsp;функция&nbsp;вызвана&nbsp;из&nbsp;эксперта&nbsp;или&nbsp;скрипта</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window=</span><span style="color: #0000ff;">ChartWindowFind</span><span>(0,short_name);</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(window==-1)&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #0000ff;">__FUNCTION__</span><span>+</span><span style="color: #008080;">"():&nbsp;Error&nbsp;=&nbsp;"</span><span>,</span><span style="color: #0000ff;">GetLastError</span><span>());</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span>(window);</span><br> <span>&nbsp;&nbsp;}</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br> <span style="color: #808080;">//+------------------------------------------------------------------+</span><br> <span style="color: #0000ff;">void</span><span>&nbsp;</span><span style="color: #0000ff;">OnStart</span><span>()</span><br> <span>&nbsp;&nbsp;{</span><br> <span style="color: #808080;">//---</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span>&nbsp;window=GetIndicatorSubWindowNumber(0,shortName);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span>(window!=-1)</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Индикатор&nbsp;"</span><span>+shortName+</span><span style="color: #008080;">"&nbsp;находится&nbsp;в&nbsp;окне&nbsp;№"</span><span>+(</span><span style="color: #0000ff;">string</span><span>)window);</span><br> <span>&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><br> <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">Print</span><span>(</span><span style="color: #008080;">"Индикатор&nbsp;"</span><span>+shortName+</span><span style="color: #008080;">"&nbsp;не&nbsp;найден.&nbsp;window&nbsp;=&nbsp;"</span><span>+(</span><span style="color: #0000ff;">string</span><span>)window);</span><br> <span>&nbsp;&nbsp;}</span></p></td> 
   </tr> 
  </tbody> 
 </table> 
</div> 
<p><span>Смотри также</span></p> 
<p><span><a href="/ru/objects/objectcreate">ObjectCreate()</a>, <a href="/ru/objects/objectfind">ObjectFind()</a></span></p> 
<br>